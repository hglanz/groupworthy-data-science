<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Extending Joins, Factors, Clean Variable Names – Introduction to Statistical Computing in R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-d166b450ba5a8e9f7a0ab969bf6592c1.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-dd01fc8b47943ccb281ee7996e9eafb5.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-760729c915d1dde12ab269fcb4c0541b.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="../../site_libs/kePrint-0.0.1/kePrint.js"></script>

<link href="../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Extending Joins, Factors, Clean Variable Names</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../../index.html" class="sidebar-logo-link">
      <img src="../../images/r-flowers.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/hglanz/statistical-computing-with-r" title="GitHub organization" class="quarto-navigation-tool px-1" aria-label="GitHub organization"><i class="bi bi-github"></i></a>
    <a href="https://canvas.calpoly.edu" title="Cal Poly Canvas" class="quarto-navigation-tool px-1" aria-label="Cal Poly Canvas"><i class="bi bi-person-fill"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Course information</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../course-materials/course-overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../course-materials/course-syllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../course-materials/course-support.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Support</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../course-materials/course-team.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Teaching team</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schedule</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../course-materials/computing-access.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Access</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../course-materials/course_resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R Resources</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">Weekly materials</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../weeks/week-0-discord.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 0 - Course Set-up</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../weeks/week-1-r-rstudio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 1, Part 1 - R &amp; RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../weeks/week-1-quarto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 1, Part 2 - Quarto</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../weeks/week-1-version-control.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 1, Part 3 - Version Control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../weeks/week-2-ggplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 2, Part 1 - ggplot</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../weeks/week-2-projects-data-import.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 2, Part 2 - Data Import</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../weeks/week-3-dplyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 3 - dplyr</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">Labs</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../labs/instructions/lab-1-instructions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab 1 &amp; Challenge 1 Instructions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../labs/instructions/lab-2-instructions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab 2 Instructions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../labs/instructions/challenge-2-instructions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Challenge 2 Instructions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../labs/instructions/lab-3-instructions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab 3 Instructions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../labs/instructions/challenge-3-instructions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Challenge 3 Instructions</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#thursday-october-17" id="toc-thursday-october-17" class="nav-link active" data-scroll-target="#thursday-october-17">Thursday, October 17</a></li>
  <li><a href="#practice-activity-4" id="toc-practice-activity-4" class="nav-link" data-scroll-target="#practice-activity-4">Practice Activity 4</a>
  <ul class="collapse">
  <li><a href="#take-3-minutes-to" id="toc-take-3-minutes-to" class="nav-link" data-scroll-target="#take-3-minutes-to">Take 3-minutes to…</a></li>
  </ul></li>
  <li><a href="#janitor-package" id="toc-janitor-package" class="nav-link" data-scroll-target="#janitor-package"><code>janitor</code> Package</a>
  <ul class="collapse">
  <li><a href="#clean-variable-names-with-janitor" id="toc-clean-variable-names-with-janitor" class="nav-link" data-scroll-target="#clean-variable-names-with-janitor">Clean Variable Names with <code>janitor</code></a></li>
  <li><a href="#clean-variable-names-with-janitor-1" id="toc-clean-variable-names-with-janitor-1" class="nav-link" data-scroll-target="#clean-variable-names-with-janitor-1">Clean Variable Names with <code>janitor</code></a></li>
  <li><a href="#lab-3-common-themes" id="toc-lab-3-common-themes" class="nav-link" data-scroll-target="#lab-3-common-themes">Lab 3 Common Themes</a></li>
  <li><a href="#lab-3-common-themes-1" id="toc-lab-3-common-themes-1" class="nav-link" data-scroll-target="#lab-3-common-themes-1">Lab 3 Common Themes</a></li>
  </ul></li>
  <li><a href="#lifecycle-stages" id="toc-lifecycle-stages" class="nav-link" data-scroll-target="#lifecycle-stages">Lifecycle Stages</a>
  <ul class="collapse">
  <li><a href="#lifceycle-stages" id="toc-lifceycle-stages" class="nav-link" data-scroll-target="#lifceycle-stages">Lifceycle Stages</a></li>
  <li><a href="#lifceycle-stages-1" id="toc-lifceycle-stages-1" class="nav-link" data-scroll-target="#lifceycle-stages-1">Lifceycle Stages</a></li>
  <li><a href="#deprecated-functions" id="toc-deprecated-functions" class="nav-link" data-scroll-target="#deprecated-functions">Deprecated Functions</a></li>
  <li><a href="#deprecated-functions-1" id="toc-deprecated-functions-1" class="nav-link" data-scroll-target="#deprecated-functions-1">Deprecated Functions</a></li>
  <li><a href="#superceded-functions" id="toc-superceded-functions" class="nav-link" data-scroll-target="#superceded-functions">Superceded Functions</a></li>
  <li><a href="#what-is-my-job" id="toc-what-is-my-job" class="nav-link" data-scroll-target="#what-is-my-job">What is my job?</a></li>
  </ul></li>
  <li><a href="#dont-forget-to-complete-your-lab-3-code-review" id="toc-dont-forget-to-complete-your-lab-3-code-review" class="nav-link" data-scroll-target="#dont-forget-to-complete-your-lab-3-code-review">Don’t Forget to Complete Your Lab 3 Code Review</a></li>
  <li><a href="#extensions-to-relational-data" id="toc-extensions-to-relational-data" class="nav-link" data-scroll-target="#extensions-to-relational-data">Extensions to Relational Data</a>
  <ul class="collapse">
  <li><a href="#relational-data" id="toc-relational-data" class="nav-link" data-scroll-target="#relational-data">Relational Data</a></li>
  <li><a href="#imdb-movies-data" id="toc-imdb-movies-data" class="nav-link" data-scroll-target="#imdb-movies-data">IMDb Movies Data</a></li>
  <li><a href="#joining-multiple-data-sets" id="toc-joining-multiple-data-sets" class="nav-link" data-scroll-target="#joining-multiple-data-sets">Joining Multiple Data Sets</a></li>
  <li><a href="#joining-on-multiple-variables" id="toc-joining-on-multiple-variables" class="nav-link" data-scroll-target="#joining-on-multiple-variables">Joining on Multiple Variables</a></li>
  <li><a href="#join-by-species-genus" id="toc-join-by-species-genus" class="nav-link" data-scroll-target="#join-by-species-genus">Join by <code>species</code> + <code>genus</code></a></li>
  </ul></li>
  <li><a href="#factor-variables" id="toc-factor-variables" class="nav-link" data-scroll-target="#factor-variables">Factor Variables</a>
  <ul class="collapse">
  <li><a href="#what-is-a-factor-variable" id="toc-what-is-a-factor-variable" class="nav-link" data-scroll-target="#what-is-a-factor-variable">What is a factor variable?</a></li>
  <li><a href="#eras-tour" id="toc-eras-tour" class="nav-link" data-scroll-target="#eras-tour">Eras Tour</a></li>
  <li><a href="#creating-a-factor-base-r" id="toc-creating-a-factor-base-r" class="nav-link" data-scroll-target="#creating-a-factor-base-r">Creating a Factor – Base <code>R</code></a></li>
  <li><a href="#creating-a-factor-base-r-1" id="toc-creating-a-factor-base-r-1" class="nav-link" data-scroll-target="#creating-a-factor-base-r-1">Creating a Factor – Base <code>R</code></a></li>
  <li><a href="#creating-a-factor-base-r-2" id="toc-creating-a-factor-base-r-2" class="nav-link" data-scroll-target="#creating-a-factor-base-r-2">Creating a Factor – Base <code>R</code></a></li>
  <li><a href="#forcats" id="toc-forcats" class="nav-link" data-scroll-target="#forcats"><code>forcats</code></a></li>
  <li><a href="#creating-a-factor-fct" id="toc-creating-a-factor-fct" class="nav-link" data-scroll-target="#creating-a-factor-fct">Creating a Factor – <code>fct</code></a></li>
  <li><a href="#creating-a-factor" id="toc-creating-a-factor" class="nav-link" data-scroll-target="#creating-a-factor">Creating a Factor</a></li>
  <li><a href="#creating-a-factor-fct-1" id="toc-creating-a-factor-fct-1" class="nav-link" data-scroll-target="#creating-a-factor-fct-1">Creating a Factor – <code>fct</code></a></li>
  <li><a href="#creating-a-factor-fct-2" id="toc-creating-a-factor-fct-2" class="nav-link" data-scroll-target="#creating-a-factor-fct-2">Creating a Factor – <code>fct</code></a></li>
  <li><a href="#re-coding-a-factor-fct_recode" id="toc-re-coding-a-factor-fct_recode" class="nav-link" data-scroll-target="#re-coding-a-factor-fct_recode">Re-coding a Factor – <code>fct_recode</code></a></li>
  <li><a href="#re-coding-a-factor-case_when" id="toc-re-coding-a-factor-case_when" class="nav-link" data-scroll-target="#re-coding-a-factor-case_when">Re-coding a Factor – <code>case_when</code></a></li>
  <li><a href="#collapsing-a-factor-fct_collapse" id="toc-collapsing-a-factor-fct_collapse" class="nav-link" data-scroll-target="#collapsing-a-factor-fct_collapse">Collapsing a Factor –<code>fct_collapse</code></a></li>
  <li><a href="#re-leveling-a-factor-fct_relevel" id="toc-re-leveling-a-factor-fct_relevel" class="nav-link" data-scroll-target="#re-leveling-a-factor-fct_relevel">Re-leveling a Factor –<code>fct_relevel</code></a></li>
  <li><a href="#re-ordering-factors-in-ggplot2" id="toc-re-ordering-factors-in-ggplot2" class="nav-link" data-scroll-target="#re-ordering-factors-in-ggplot2">Re-ordering Factors in <code>ggplot2</code></a></li>
  <li><a href="#re-ordering-factors-in-ggplot2-1" id="toc-re-ordering-factors-in-ggplot2-1" class="nav-link" data-scroll-target="#re-ordering-factors-in-ggplot2-1">Re-ordering Factors in <code>ggplot2</code></a></li>
  <li><a href="#re-ordering-factors-in-ggplot2-2" id="toc-re-ordering-factors-in-ggplot2-2" class="nav-link" data-scroll-target="#re-ordering-factors-in-ggplot2-2">Re-ordering Factors in <code>ggplot2</code></a></li>
  </ul></li>
  <li><a href="#lab-4-childcare-costs-in-california" id="toc-lab-4-childcare-costs-in-california" class="nav-link" data-scroll-target="#lab-4-childcare-costs-in-california">Lab 4: Childcare Costs in California</a>
  <ul class="collapse">
  <li><a href="#chatgpt-to-the-rescue" id="toc-chatgpt-to-the-rescue" class="nav-link" data-scroll-target="#chatgpt-to-the-rescue">ChatGPT to the Rescue!</a></li>
  <li><a href="#to-do" id="toc-to-do" class="nav-link" data-scroll-target="#to-do">To do…</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/hglanz/statistical-computing-with-r/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div><div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="week-4-joins-2.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Extending Joins, Factors, Clean Variable Names</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="thursday-october-17" class="level2">
<h2 class="anchored" data-anchor-id="thursday-october-17">Thursday, October 17</h2>
<p>Today we will…</p>
<div class="columns">
<div class="column" style="width:55%;">
<div class="small">
<ul>
<li>Debrief PA 4
<ul>
<li>Describe the Code</li>
<li>Clean Column Names<br>
</li>
</ul></li>
<li>Debrief Lab 3 &amp; Challenge 3
<ul>
<li>Common Themes</li>
<li>Package Lifecycle Stages</li>
<li>Expectations for Tools Used</li>
<li>Reminder about Lab 3 Peer Review</li>
</ul></li>
</ul>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:40%;">
<div class="small">
<ul>
<li>New Material
<ul>
<li>Extensions to Relational Data</li>
<li>Factors with <code>forcats</code></li>
</ul></li>
<li><a href="../../labs/instructions/lab-4-instructions.html">Lab 4: Childcare Costs in California</a></li>
</ul>
</div>
</div>
</div>
</section>
<section id="practice-activity-4" class="level1">
<h1>Practice Activity 4</h1>
<p><img src="images/frustrated-about-r.png" class="img-fluid" alt="A frustrated little monster sits on the ground with his hat next to him, saying 'I just need a minute.' Looking on empathetically is the R logo, with the word 'Error' in many different styles behind it."></p>
<section id="take-3-minutes-to" class="level2">
<h2 class="anchored" data-anchor-id="take-3-minutes-to">Take 3-minutes to…</h2>
<p>Write down <em>in plain language</em> what each line of this code is doing.</p>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>military_clean <span class="sc">%&gt;%</span> </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">if_all</span>(<span class="at">.cols =</span> <span class="sc">-</span>Country, </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">.fns =</span> <span class="sc">~</span> <span class="fu">is.na</span>(.x)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>           ), </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">is.na</span>(Country)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Country)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="janitor-package" class="level1">
<h1><code>janitor</code> Package</h1>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/janitor_clean_names.png" class="img-fluid figure-img" alt="janitor::clean_names(): convert all column names to *_case! Below, a cartoon beaver putting shapes with long, messy column names (pulled from a bin labeled 'MESS' and 'not so awesome column names') into a contraption that converts them to lower snake case. The output has stylized text reading 'Way more deal-withable column names.' Learn more about clean_names and other *awesome* data cleaning tools in janitor."></p>
<figcaption>Image by Allison Horst</figcaption>
</figure>
</div>
<section id="clean-variable-names-with-janitor" class="level2">
<h2 class="anchored" data-anchor-id="clean-variable-names-with-janitor">Clean Variable Names with <a href="https://sfirke.github.io/janitor/"><code>janitor</code></a></h2>
<div class="small">
<p>Data from external sources likely has variable names not ideally formatted for R.</p>
<p>Names may…</p>
<ul>
<li>contain spaces.</li>
<li>start with numbers.</li>
<li>start with a mix of capital and lower case letters.</li>
</ul>
</div>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(military_clean)[<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Country"        "Notes"          "Reporting year" "1988"          
 [5] "1989"           "1990"           "1991"           "1992"          
 [9] "1993"           "1994"           "1995"           "1996"          </code></pre>
</div>
</div>
</section>
<section id="clean-variable-names-with-janitor-1" class="level2">
<h2 class="anchored" data-anchor-id="clean-variable-names-with-janitor-1">Clean Variable Names with <a href="https://sfirke.github.io/janitor/"><code>janitor</code></a></h2>
<div class="small">
<p>The <code>janitor</code> package converts all variable names in a dataset to <em>snake_case</em>.</p>
<p>Names will…</p>
<ul>
<li>start with a lower case letter.</li>
<li>have spaces filled in with <code>_</code>.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">library</span>(janitor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'janitor'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    chisq.test, fisher.test</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>military_clean_names <span class="ot">&lt;-</span> military <span class="sc">|&gt;</span> </span>
<span id="cb7-2"><a href="#cb7-2"></a>  <span class="fu">clean_names</span>()</span>
<span id="cb7-3"><a href="#cb7-3"></a></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="fu">names</span>(military_clean_names)[<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "country"        "notes"          "reporting_year" "x1988"         
 [5] "x1989"          "x1990"          "x1991"          "x1992"         
 [9] "x1993"          "x1994"          "x1995"          "x1996"         </code></pre>
</div>
</div>
</div>
</section>
<section id="lab-3-common-themes" class="level2">
<h2 class="anchored" data-anchor-id="lab-3-common-themes">Lab 3 Common Themes</h2>
<div class="small">
<div class="incremental">
<ul class="incremental">
<li><p><strong>Q1:</strong> The <a href="https://www.tidyverse.org/packages/"><code>tidyverse</code></a> package automatically loads <code>ggplot2</code>, <code>dplyr</code>, <code>readr</code>, etc. – do not load these twice!</p></li>
<li><p><strong>Q3:</strong> Where did these data come from? How were they collected? What is the context of these data?</p>
<ul class="incremental">
<li><strong>Challenge 3:</strong> When reaching a conclusion with the hypothesis test, what does Question 3 refer to?</li>
</ul></li>
<li><p>Saving an f*$# load of objects</p>
<ul class="incremental">
<li>Not outputting the results</li>
</ul></li>
</ul>
</div>
</div>
</section>
<section id="lab-3-common-themes-1" class="level2">
<h2 class="anchored" data-anchor-id="lab-3-common-themes-1">Lab 3 Common Themes</h2>
<div class="small">
<ul>
<li><strong>Q5 &amp; Q7</strong>: Not using the “correct” function syntax</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">if_any</span>(<span class="at">.cols =</span> <span class="fu">everything</span>(), <span class="at">.fns =</span> <span class="sc">~</span> <span class="fu">is.na</span>(.x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="small">
<div class="incremental">
<ul class="incremental">
<li>Not using <code>.x</code> to specify where the <code>.cols</code> input should go will go awry when there are <strong>multiple</strong> function inputs.</li>
<li>Using named arguments (e.g., <code>.cols =</code>, <code>.fns =</code>) makes your code more readable and is part of the code formatting guidelines for this class.</li>
</ul>
<p><br></p>
<ul class="incremental">
<li>Think about “efficient” ways to do things
<ul class="incremental">
<li><strong>Q5</strong>: Are you using the same function <code>across()</code> multiple columns?</li>
<li><strong>Q6</strong>: Can you calculate multiple summary statistics in one pipeline?</li>
<li><strong>Q10-12</strong>: Is there a way you can get <strong>both</strong> the max <em>and</em> min in one pipeline?</li>
</ul></li>
</ul>
</div>
</div>
</section>
</section>
<section id="lifecycle-stages" class="level1">
<h1>Lifecycle Stages</h1>
<section id="lifceycle-stages" class="level2">
<h2 class="anchored" data-anchor-id="lifceycle-stages">Lifceycle Stages</h2>
<p>As packages get updated, the functions and function arguments included in those packages will change.</p>
<ul>
<li>The accepted syntax for a function may change.</li>
<li>A function/functionality may disappear.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/lifecycle.png" class="img-fluid figure-img" alt="The image shows a flow diagram representing the lifecycle stages of a feature or process. It consists of four colored boxes with arrows connecting them. The green box in the center labeled stable is the main stage. To the left, an orange box labeled experimental has an arrow pointing toward stable, indicating that experimental features can progress to become stable. From stable, one arrow points upward to another orange box labeled deprecated, indicating that stable features can become deprecated. Another arrow points right to a dark blue box labeled superseded, showing that stable features can also be replaced or superseded."></p>
<figcaption><a href="https://lifecycle.r-lib.org/articles/stages.html">Learn more about lifecycle stages</a> of packages, functions, function arguments in R.</figcaption>
</figure>
</div>
</section>
<section id="lifceycle-stages-1" class="level2">
<h2 class="anchored" data-anchor-id="lifceycle-stages-1">Lifceycle Stages</h2>
<center>
<p><img src="images/summarize_lifecycle.png" class="img-fluid" style="width:70.0%" alt="The image shows the documentation for the summarise() (or summarize(), using the American spelling) function in R, commonly used in the dplyr package for data manipulation. The summarise() function is used to create summary statistics for data frames or tibbles. The key arguments include .data, which is the data frame or tibble input, and ..., which represents name-value pairs of summary functions. The .by and .groups arguments are optional and used to control grouping behavior in the summarization. A key point in the documentation is that returning values with size 0 or greater than 1 in summary functions, such as min(), n(), or sum(), was deprecated as of version 1.1.0. Instead, users are encouraged to use the reframe() function, which replaces the deprecated behavior. The lifecycle badge marks the deprecation of this feature, ensuring that users know that previous versions' behavior should be updated for compatibility with future versions of the package."></p>
</center>
</section>
<section id="deprecated-functions" class="level2">
<h2 class="anchored" data-anchor-id="deprecated-functions">Deprecated Functions</h2>
<div class="small">
<p>A <strong>deprecated</strong> functionality has a better alternative available and is scheduled for removal.</p>
<ul>
<li>You get a warning telling you what to use instead.</li>
</ul>
</div>
<p>. . .</p>
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>military_clean <span class="sc">|&gt;</span> </span>
<span id="cb10-2"><a href="#cb10-2"></a>  <span class="fu">filter</span>(<span class="fu">across</span>(<span class="at">.cols =</span> Notes<span class="sc">:</span><span class="st">`</span><span class="at">2019</span><span class="st">`</span>, </span>
<span id="cb10-3"><a href="#cb10-3"></a>                <span class="at">.fns =</span> <span class="sc">~</span> <span class="fu">is.na</span>(.x)</span>
<span id="cb10-4"><a href="#cb10-4"></a>                )</span>
<span id="cb10-5"><a href="#cb10-5"></a>         ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `across()` in `filter()` was deprecated in dplyr 1.0.8.
ℹ Please use `if_any()` or `if_all()` instead.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 18 × 35
   Country      Notes `Reporting year` `1988` `1989` `1990` `1991` `1992` `1993`
   &lt;chr&gt;        &lt;chr&gt; &lt;chr&gt;            &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; 
 1 Africa       &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
 2 North Africa &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
 3 Sub-Saharan  &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
 4 Americas     &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
 5 Central Ame… &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
 6 North Ameri… &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
 7 South Ameri… &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
 8 Asia &amp; Ocea… &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
 9 Central Asia &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
10 East Asia    &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
11 South Asia   &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
12 South-East … &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
13 Oceania      &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
14 Europe       &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
15 Central Eur… &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
16 Eastern Eur… &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
17 Western Eur… &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
18 Middle East  &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
# ℹ 26 more variables: `1994` &lt;chr&gt;, `1995` &lt;chr&gt;, `1996` &lt;chr&gt;, `1997` &lt;chr&gt;,
#   `1998` &lt;chr&gt;, `1999` &lt;chr&gt;, `2000` &lt;chr&gt;, `2001` &lt;chr&gt;, `2002` &lt;chr&gt;,
#   `2003` &lt;chr&gt;, `2004` &lt;chr&gt;, `2005` &lt;chr&gt;, `2006` &lt;chr&gt;, `2007` &lt;chr&gt;,
#   `2008` &lt;chr&gt;, `2009` &lt;chr&gt;, `2010` &lt;chr&gt;, `2011` &lt;chr&gt;, `2012` &lt;chr&gt;,
#   `2013` &lt;chr&gt;, `2014` &lt;chr&gt;, `2015` &lt;chr&gt;, `2016` &lt;chr&gt;, `2017` &lt;chr&gt;,
#   `2018` &lt;chr&gt;, `2019` &lt;chr&gt;</code></pre>
</div>
</div>
</div>
</section>
<section id="deprecated-functions-1" class="level2">
<h2 class="anchored" data-anchor-id="deprecated-functions-1">Deprecated Functions</h2>
<div class="small">
<p>You <strong>should not</strong> use deprecated functions!</p>
<p>Instead, we use…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>military_clean <span class="sc">|&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2"></a>  <span class="fu">filter</span>(<span class="fu">if_all</span>(<span class="at">.cols =</span> Notes<span class="sc">:</span><span class="st">`</span><span class="at">2019</span><span class="st">`</span>, </span>
<span id="cb13-3"><a href="#cb13-3"></a>                <span class="at">.fns =</span> <span class="sc">~</span> <span class="fu">is.na</span>(.x)</span>
<span id="cb13-4"><a href="#cb13-4"></a>                )</span>
<span id="cb13-5"><a href="#cb13-5"></a>         ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 18 × 35
   Country      Notes `Reporting year` `1988` `1989` `1990` `1991` `1992` `1993`
   &lt;chr&gt;        &lt;chr&gt; &lt;chr&gt;            &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt; 
 1 Africa       &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
 2 North Africa &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
 3 Sub-Saharan  &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
 4 Americas     &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
 5 Central Ame… &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
 6 North Ameri… &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
 7 South Ameri… &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
 8 Asia &amp; Ocea… &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
 9 Central Asia &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
10 East Asia    &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
11 South Asia   &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
12 South-East … &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
13 Oceania      &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
14 Europe       &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
15 Central Eur… &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
16 Eastern Eur… &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
17 Western Eur… &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
18 Middle East  &lt;NA&gt;  &lt;NA&gt;             &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;   &lt;NA&gt;  
# ℹ 26 more variables: `1994` &lt;chr&gt;, `1995` &lt;chr&gt;, `1996` &lt;chr&gt;, `1997` &lt;chr&gt;,
#   `1998` &lt;chr&gt;, `1999` &lt;chr&gt;, `2000` &lt;chr&gt;, `2001` &lt;chr&gt;, `2002` &lt;chr&gt;,
#   `2003` &lt;chr&gt;, `2004` &lt;chr&gt;, `2005` &lt;chr&gt;, `2006` &lt;chr&gt;, `2007` &lt;chr&gt;,
#   `2008` &lt;chr&gt;, `2009` &lt;chr&gt;, `2010` &lt;chr&gt;, `2011` &lt;chr&gt;, `2012` &lt;chr&gt;,
#   `2013` &lt;chr&gt;, `2014` &lt;chr&gt;, `2015` &lt;chr&gt;, `2016` &lt;chr&gt;, `2017` &lt;chr&gt;,
#   `2018` &lt;chr&gt;, `2019` &lt;chr&gt;</code></pre>
</div>
</div>
</div>
</section>
<section id="superceded-functions" class="level2">
<h2 class="anchored" data-anchor-id="superceded-functions">Superceded Functions</h2>
<p>A <strong>superseded</strong> functionality has a better alternative, but is not going away.</p>
<ul>
<li>This is a softer alternative to deprecation.</li>
<li>A superseded function will not give a warning (since there’s no risk if you keep using it), but the documentation will give you a recommendation for what to use instead.</li>
</ul>
</section>
<section id="what-is-my-job" class="level2">
<h2 class="anchored" data-anchor-id="what-is-my-job">What is my job?</h2>
<p><br></p>
<div class="columns">
<div class="column" style="width:40%;">
<div class="fragment">
<p><strong>Teaching you stuff</strong></p>
<p><br></p>
<p>(Thoughtfully) choosing what to teach and how to teach it.</p>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:55%;">
<div class="fragment">
<p><strong>Assessing what you’ve learned</strong></p>
<p><br></p>
<p>What do you understand about the tools I’ve taught you?</p>
<div class="fragment">
<p>This <strong>is not</strong> the same as assessing if you figured out a way to accomplish a given task.</p>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="dont-forget-to-complete-your-lab-3-code-review" class="level1">
<h1>Don’t Forget to Complete Your Lab 3 Code Review</h1>
<blockquote class="blockquote">
<p>Make sure your feedback follows the <a href="../../code-review/code-review-guidelines.html">code review guidelines</a>.</p>
</blockquote>
<blockquote class="blockquote">
<p>Insert your review into the comment box!</p>
</blockquote>
</section>
<section id="extensions-to-relational-data" class="level1">
<h1>Extensions to Relational Data</h1>
<section id="relational-data" class="level2">
<h2 class="anchored" data-anchor-id="relational-data">Relational Data</h2>
<p>When we work with multiple tables of data, we say we are working with <strong>relational data</strong>.</p>
<ul>
<li>It is the <em>relations</em>, not just the individual datasets, that are important.</li>
</ul>
<p>. . .</p>
<p>When we work with relational data, we rely on <strong>keys</strong>.</p>
<ul>
<li>A key uniquely identifies an observation in a dataset.</li>
<li>A key allows us to relate datasets to each other</li>
</ul>
</section>
<section id="imdb-movies-data" class="level2">
<h2 class="anchored" data-anchor-id="imdb-movies-data">IMDb Movies Data</h2>
<p><img src="images/imdb-keys.png" class="img-fluid" alt="A diagram depicting the relationships between various tables in a movie database. The tables and their columns are as follows. directors_genres: Contains 'director_id' (int), 'genre' (varchar), and 'prob' (float). Linked to the 'directors' table by 'director_id.' movies_directors: Contains 'director_id' (int) and 'movie_id' (int). Linked to both the 'directors' and 'movies' tables by 'director_id' and 'movie_id.' movies_genres: Contains 'movie_id' (int) and 'genre' (varchar). Linked to the 'movies' table by 'movie_id.' roles: Contains 'actor_id' (int), 'movie_id' (int), and 'role' (varchar). Linked to both the 'actors' and 'movies' tables by 'actor_id' and 'movie_id.' The following entity tables are represented at the bottom: directors: Contains 'id' (int), 'first_name' (varchar), and 'last_name' (varchar). movies: Contains 'id' (int), 'name' (varchar), 'year' (int), and 'rank' (float). actors: Contains 'id' (int), 'first_name' (varchar), 'last_name' (varchar), and 'gender' (char). Arrows represent relationships between the various tables, with foreign keys connecting them."></p>
<p><strong>How can we find each director’s active years?</strong></p>
</section>
<section id="joining-multiple-data-sets" class="level2">
<h2 class="anchored" data-anchor-id="joining-multiple-data-sets">Joining Multiple Data Sets</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">Data</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Sketch</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">1st + 2nd</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">+ 3rd</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="columns">
<div class="column" style="width:50%;">
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>directors[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
     id first_name last_name
  &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;    
1   429 Andrew     Adamson  
2  2931 Darren     Aronofsky
3  9247 Zach       Braff    
4 11652 James (I)  Cameron  </code></pre>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>movies_directors[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  director_id movie_id
        &lt;dbl&gt;    &lt;dbl&gt;
1         429   300229
2        2931   254943
3        9247   124110
4       11652    10920</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:25%;">

</div><div class="column" style="width:50%;">
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>movies[<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 4
     id name           year  rank
  &lt;dbl&gt; &lt;chr&gt;         &lt;dbl&gt; &lt;dbl&gt;
1 10920 Aliens         1986  8.20
2 17173 Animal House   1978  7.5 
3 18979 Apollo 13      1995  7.5 
4 30959 Batman Begins  2005 NA   </code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"images/multiple_joins.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/multiple_joins.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%" alt="The image illustrates a relational database schema involving three tables: movies_directors, directors, and movies. The movies_directors table has two columns: director_id (int) and movie_id (int). The directors table contains id (int), first_name (char), and last_name (char), while the movies table includes id (int), name (char), year (int), and rank (float). A caution is noted, highlighting that there are two columns named id, but they store different types of information. The goal is to keep only observations that appear in all three datasets, which requires using two calls to the inner_join() function. There's also a suggestion to rename the column name in the final dataset, which would contain columns like director_id, movie_id, first_name, last_name, name, year, and rank."></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>movies_directors <span class="sc">|&gt;</span> </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(directors, </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">by =</span> <span class="fu">join_by</span>(director_id <span class="sc">==</span> id)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>             )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:400px; ">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">director_id</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">movie_id</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">first_name</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">last_name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">429</td>
<td style="text-align: right;">300229</td>
<td style="text-align: left;">Andrew</td>
<td style="text-align: left;">Adamson</td>
</tr>
<tr class="even">
<td style="text-align: right;">2931</td>
<td style="text-align: right;">254943</td>
<td style="text-align: left;">Darren</td>
<td style="text-align: left;">Aronofsky</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9247</td>
<td style="text-align: right;">124110</td>
<td style="text-align: left;">Zach</td>
<td style="text-align: left;">Braff</td>
</tr>
<tr class="even">
<td style="text-align: right;">11652</td>
<td style="text-align: right;">10920</td>
<td style="text-align: left;">James (I)</td>
<td style="text-align: left;">Cameron</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11652</td>
<td style="text-align: right;">333856</td>
<td style="text-align: left;">James (I)</td>
<td style="text-align: left;">Cameron</td>
</tr>
<tr class="even">
<td style="text-align: right;">14927</td>
<td style="text-align: right;">192017</td>
<td style="text-align: left;">Ron</td>
<td style="text-align: left;">Clements</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15092</td>
<td style="text-align: right;">109093</td>
<td style="text-align: left;">Ethan</td>
<td style="text-align: left;">Coen</td>
</tr>
<tr class="even">
<td style="text-align: right;">15092</td>
<td style="text-align: right;">237431</td>
<td style="text-align: left;">Ethan</td>
<td style="text-align: left;">Coen</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15093</td>
<td style="text-align: right;">109093</td>
<td style="text-align: left;">Joel</td>
<td style="text-align: left;">Coen</td>
</tr>
<tr class="even">
<td style="text-align: right;">15093</td>
<td style="text-align: right;">237431</td>
<td style="text-align: left;">Joel</td>
<td style="text-align: left;">Coen</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15901</td>
<td style="text-align: right;">130128</td>
<td style="text-align: left;">Francis Ford</td>
<td style="text-align: left;">Coppola</td>
</tr>
<tr class="even">
<td style="text-align: right;">15906</td>
<td style="text-align: right;">194874</td>
<td style="text-align: left;">Sofia</td>
<td style="text-align: left;">Coppola</td>
</tr>
<tr class="odd">
<td style="text-align: right;">16816</td>
<td style="text-align: right;">350424</td>
<td style="text-align: left;">Cameron</td>
<td style="text-align: left;">Crowe</td>
</tr>
<tr class="even">
<td style="text-align: right;">17810</td>
<td style="text-align: right;">297838</td>
<td style="text-align: left;">Frank</td>
<td style="text-align: left;">Darabont</td>
</tr>
<tr class="odd">
<td style="text-align: right;">22104</td>
<td style="text-align: right;">224842</td>
<td style="text-align: left;">Clint</td>
<td style="text-align: left;">Eastwood</td>
</tr>
<tr class="even">
<td style="text-align: right;">24758</td>
<td style="text-align: right;">112290</td>
<td style="text-align: left;">David</td>
<td style="text-align: left;">Fincher</td>
</tr>
<tr class="odd">
<td style="text-align: right;">28395</td>
<td style="text-align: right;">46169</td>
<td style="text-align: left;">Mel (I)</td>
<td style="text-align: left;">Gibson</td>
</tr>
<tr class="even">
<td style="text-align: right;">35573</td>
<td style="text-align: right;">18979</td>
<td style="text-align: left;">Ron</td>
<td style="text-align: left;">Howard</td>
</tr>
<tr class="odd">
<td style="text-align: right;">35838</td>
<td style="text-align: right;">257264</td>
<td style="text-align: left;">John (I)</td>
<td style="text-align: left;">Hughes</td>
</tr>
<tr class="even">
<td style="text-align: right;">37872</td>
<td style="text-align: right;">300229</td>
<td style="text-align: left;">Vicky</td>
<td style="text-align: left;">Jenson</td>
</tr>
<tr class="odd">
<td style="text-align: right;">38746</td>
<td style="text-align: right;">238695</td>
<td style="text-align: left;">Mike (I)</td>
<td style="text-align: left;">Judge</td>
</tr>
<tr class="even">
<td style="text-align: right;">41975</td>
<td style="text-align: right;">314965</td>
<td style="text-align: left;">David</td>
<td style="text-align: left;">Koepp</td>
</tr>
<tr class="odd">
<td style="text-align: right;">44291</td>
<td style="text-align: right;">17173</td>
<td style="text-align: left;">John (I)</td>
<td style="text-align: left;">Landis</td>
</tr>
<tr class="even">
<td style="text-align: right;">46315</td>
<td style="text-align: right;">344203</td>
<td style="text-align: left;">Jay</td>
<td style="text-align: left;">Levey</td>
</tr>
<tr class="odd">
<td style="text-align: right;">48115</td>
<td style="text-align: right;">313459</td>
<td style="text-align: left;">George</td>
<td style="text-align: left;">Lucas</td>
</tr>
<tr class="even">
<td style="text-align: right;">56332</td>
<td style="text-align: right;">192017</td>
<td style="text-align: left;">John</td>
<td style="text-align: left;">Musker</td>
</tr>
<tr class="odd">
<td style="text-align: right;">58201</td>
<td style="text-align: right;">30959</td>
<td style="text-align: left;">Christopher</td>
<td style="text-align: left;">Nolan</td>
</tr>
<tr class="even">
<td style="text-align: right;">58201</td>
<td style="text-align: right;">210511</td>
<td style="text-align: left;">Christopher</td>
<td style="text-align: left;">Nolan</td>
</tr>
<tr class="odd">
<td style="text-align: right;">65940</td>
<td style="text-align: right;">111813</td>
<td style="text-align: left;">Rob</td>
<td style="text-align: left;">Reiner</td>
</tr>
<tr class="even">
<td style="text-align: right;">66849</td>
<td style="text-align: right;">306032</td>
<td style="text-align: left;">Guy</td>
<td style="text-align: left;">Ritchie</td>
</tr>
<tr class="odd">
<td style="text-align: right;">68161</td>
<td style="text-align: right;">116907</td>
<td style="text-align: left;">Herbert (I)</td>
<td style="text-align: left;">Ross</td>
</tr>
<tr class="even">
<td style="text-align: right;">74758</td>
<td style="text-align: right;">238072</td>
<td style="text-align: left;">Steven</td>
<td style="text-align: left;">Soderbergh</td>
</tr>
<tr class="odd">
<td style="text-align: right;">76524</td>
<td style="text-align: right;">167324</td>
<td style="text-align: left;">Oliver (I)</td>
<td style="text-align: left;">Stone</td>
</tr>
<tr class="even">
<td style="text-align: right;">78273</td>
<td style="text-align: right;">176711</td>
<td style="text-align: left;">Quentin</td>
<td style="text-align: left;">Tarantino</td>
</tr>
<tr class="odd">
<td style="text-align: right;">78273</td>
<td style="text-align: right;">176712</td>
<td style="text-align: left;">Quentin</td>
<td style="text-align: left;">Tarantino</td>
</tr>
<tr class="even">
<td style="text-align: right;">78273</td>
<td style="text-align: right;">267038</td>
<td style="text-align: left;">Quentin</td>
<td style="text-align: left;">Tarantino</td>
</tr>
<tr class="odd">
<td style="text-align: right;">78273</td>
<td style="text-align: right;">276217</td>
<td style="text-align: left;">Quentin</td>
<td style="text-align: left;">Tarantino</td>
</tr>
<tr class="even">
<td style="text-align: right;">82525</td>
<td style="text-align: right;">147603</td>
<td style="text-align: left;">Paul (I)</td>
<td style="text-align: left;">Verhoeven</td>
</tr>
<tr class="odd">
<td style="text-align: right;">83616</td>
<td style="text-align: right;">207992</td>
<td style="text-align: left;">Andy</td>
<td style="text-align: left;">Wachowski</td>
</tr>
<tr class="even">
<td style="text-align: right;">83617</td>
<td style="text-align: right;">207992</td>
<td style="text-align: left;">Larry</td>
<td style="text-align: left;">Wachowski</td>
</tr>
<tr class="odd">
<td style="text-align: right;">88802</td>
<td style="text-align: right;">256630</td>
<td style="text-align: left;">Unknown</td>
<td style="text-align: left;">Director</td>
</tr>
</tbody>
</table>
</div>

</div>
</div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>movies_directors <span class="sc">|&gt;</span> </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(directors, </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">by =</span> <span class="fu">join_by</span>(director_id <span class="sc">==</span> id)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>             ) <span class="sc">|&gt;</span> </span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(movies,</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">by =</span> <span class="fu">join_by</span>(movie_id <span class="sc">==</span> id)</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>             ) <span class="sc">|&gt;</span> </span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">movie_name =</span> name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; ">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">director_id</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">movie_id</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">first_name</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">last_name</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">movie_name</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">year</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">rank</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">429</td>
<td style="text-align: right;">300229</td>
<td style="text-align: left;">Andrew</td>
<td style="text-align: left;">Adamson</td>
<td style="text-align: left;">Shrek</td>
<td style="text-align: right;">2001</td>
<td style="text-align: right;">8.1</td>
</tr>
<tr class="even">
<td style="text-align: right;">2931</td>
<td style="text-align: right;">254943</td>
<td style="text-align: left;">Darren</td>
<td style="text-align: left;">Aronofsky</td>
<td style="text-align: left;">Pi</td>
<td style="text-align: right;">1998</td>
<td style="text-align: right;">7.5</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9247</td>
<td style="text-align: right;">124110</td>
<td style="text-align: left;">Zach</td>
<td style="text-align: left;">Braff</td>
<td style="text-align: left;">Garden State</td>
<td style="text-align: right;">2004</td>
<td style="text-align: right;">8.3</td>
</tr>
<tr class="even">
<td style="text-align: right;">11652</td>
<td style="text-align: right;">10920</td>
<td style="text-align: left;">James (I)</td>
<td style="text-align: left;">Cameron</td>
<td style="text-align: left;">Aliens</td>
<td style="text-align: right;">1986</td>
<td style="text-align: right;">8.2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11652</td>
<td style="text-align: right;">333856</td>
<td style="text-align: left;">James (I)</td>
<td style="text-align: left;">Cameron</td>
<td style="text-align: left;">Titanic</td>
<td style="text-align: right;">1997</td>
<td style="text-align: right;">6.9</td>
</tr>
<tr class="even">
<td style="text-align: right;">14927</td>
<td style="text-align: right;">192017</td>
<td style="text-align: left;">Ron</td>
<td style="text-align: left;">Clements</td>
<td style="text-align: left;">Little Mermaid, The</td>
<td style="text-align: right;">1989</td>
<td style="text-align: right;">7.3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15092</td>
<td style="text-align: right;">109093</td>
<td style="text-align: left;">Ethan</td>
<td style="text-align: left;">Coen</td>
<td style="text-align: left;">Fargo</td>
<td style="text-align: right;">1996</td>
<td style="text-align: right;">8.2</td>
</tr>
<tr class="even">
<td style="text-align: right;">15092</td>
<td style="text-align: right;">237431</td>
<td style="text-align: left;">Ethan</td>
<td style="text-align: left;">Coen</td>
<td style="text-align: left;">O Brother, Where Art Thou?</td>
<td style="text-align: right;">2000</td>
<td style="text-align: right;">7.8</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15093</td>
<td style="text-align: right;">109093</td>
<td style="text-align: left;">Joel</td>
<td style="text-align: left;">Coen</td>
<td style="text-align: left;">Fargo</td>
<td style="text-align: right;">1996</td>
<td style="text-align: right;">8.2</td>
</tr>
<tr class="even">
<td style="text-align: right;">15093</td>
<td style="text-align: right;">237431</td>
<td style="text-align: left;">Joel</td>
<td style="text-align: left;">Coen</td>
<td style="text-align: left;">O Brother, Where Art Thou?</td>
<td style="text-align: right;">2000</td>
<td style="text-align: right;">7.8</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15901</td>
<td style="text-align: right;">130128</td>
<td style="text-align: left;">Francis Ford</td>
<td style="text-align: left;">Coppola</td>
<td style="text-align: left;">Godfather, The</td>
<td style="text-align: right;">1972</td>
<td style="text-align: right;">9.0</td>
</tr>
<tr class="even">
<td style="text-align: right;">15906</td>
<td style="text-align: right;">194874</td>
<td style="text-align: left;">Sofia</td>
<td style="text-align: left;">Coppola</td>
<td style="text-align: left;">Lost in Translation</td>
<td style="text-align: right;">2003</td>
<td style="text-align: right;">8.0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">16816</td>
<td style="text-align: right;">350424</td>
<td style="text-align: left;">Cameron</td>
<td style="text-align: left;">Crowe</td>
<td style="text-align: left;">Vanilla Sky</td>
<td style="text-align: right;">2001</td>
<td style="text-align: right;">6.9</td>
</tr>
<tr class="even">
<td style="text-align: right;">17810</td>
<td style="text-align: right;">297838</td>
<td style="text-align: left;">Frank</td>
<td style="text-align: left;">Darabont</td>
<td style="text-align: left;">Shawshank Redemption, The</td>
<td style="text-align: right;">1994</td>
<td style="text-align: right;">9.0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">22104</td>
<td style="text-align: right;">224842</td>
<td style="text-align: left;">Clint</td>
<td style="text-align: left;">Eastwood</td>
<td style="text-align: left;">Mystic River</td>
<td style="text-align: right;">2003</td>
<td style="text-align: right;">8.1</td>
</tr>
<tr class="even">
<td style="text-align: right;">24758</td>
<td style="text-align: right;">112290</td>
<td style="text-align: left;">David</td>
<td style="text-align: left;">Fincher</td>
<td style="text-align: left;">Fight Club</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8.5</td>
</tr>
<tr class="odd">
<td style="text-align: right;">28395</td>
<td style="text-align: right;">46169</td>
<td style="text-align: left;">Mel (I)</td>
<td style="text-align: left;">Gibson</td>
<td style="text-align: left;">Braveheart</td>
<td style="text-align: right;">1995</td>
<td style="text-align: right;">8.3</td>
</tr>
<tr class="even">
<td style="text-align: right;">35573</td>
<td style="text-align: right;">18979</td>
<td style="text-align: left;">Ron</td>
<td style="text-align: left;">Howard</td>
<td style="text-align: left;">Apollo 13</td>
<td style="text-align: right;">1995</td>
<td style="text-align: right;">7.5</td>
</tr>
<tr class="odd">
<td style="text-align: right;">35838</td>
<td style="text-align: right;">257264</td>
<td style="text-align: left;">John (I)</td>
<td style="text-align: left;">Hughes</td>
<td style="text-align: left;">Planes, Trains &amp; Automobiles</td>
<td style="text-align: right;">1987</td>
<td style="text-align: right;">7.2</td>
</tr>
<tr class="even">
<td style="text-align: right;">37872</td>
<td style="text-align: right;">300229</td>
<td style="text-align: left;">Vicky</td>
<td style="text-align: left;">Jenson</td>
<td style="text-align: left;">Shrek</td>
<td style="text-align: right;">2001</td>
<td style="text-align: right;">8.1</td>
</tr>
<tr class="odd">
<td style="text-align: right;">38746</td>
<td style="text-align: right;">238695</td>
<td style="text-align: left;">Mike (I)</td>
<td style="text-align: left;">Judge</td>
<td style="text-align: left;">Office Space</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">7.6</td>
</tr>
<tr class="even">
<td style="text-align: right;">41975</td>
<td style="text-align: right;">314965</td>
<td style="text-align: left;">David</td>
<td style="text-align: left;">Koepp</td>
<td style="text-align: left;">Stir of Echoes</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">7.0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">44291</td>
<td style="text-align: right;">17173</td>
<td style="text-align: left;">John (I)</td>
<td style="text-align: left;">Landis</td>
<td style="text-align: left;">Animal House</td>
<td style="text-align: right;">1978</td>
<td style="text-align: right;">7.5</td>
</tr>
<tr class="even">
<td style="text-align: right;">46315</td>
<td style="text-align: right;">344203</td>
<td style="text-align: left;">Jay</td>
<td style="text-align: left;">Levey</td>
<td style="text-align: left;">UHF</td>
<td style="text-align: right;">1989</td>
<td style="text-align: right;">6.6</td>
</tr>
<tr class="odd">
<td style="text-align: right;">48115</td>
<td style="text-align: right;">313459</td>
<td style="text-align: left;">George</td>
<td style="text-align: left;">Lucas</td>
<td style="text-align: left;">Star Wars</td>
<td style="text-align: right;">1977</td>
<td style="text-align: right;">8.8</td>
</tr>
<tr class="even">
<td style="text-align: right;">56332</td>
<td style="text-align: right;">192017</td>
<td style="text-align: left;">John</td>
<td style="text-align: left;">Musker</td>
<td style="text-align: left;">Little Mermaid, The</td>
<td style="text-align: right;">1989</td>
<td style="text-align: right;">7.3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">58201</td>
<td style="text-align: right;">30959</td>
<td style="text-align: left;">Christopher</td>
<td style="text-align: left;">Nolan</td>
<td style="text-align: left;">Batman Begins</td>
<td style="text-align: right;">2005</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: right;">58201</td>
<td style="text-align: right;">210511</td>
<td style="text-align: left;">Christopher</td>
<td style="text-align: left;">Nolan</td>
<td style="text-align: left;">Memento</td>
<td style="text-align: right;">2000</td>
<td style="text-align: right;">8.7</td>
</tr>
<tr class="odd">
<td style="text-align: right;">65940</td>
<td style="text-align: right;">111813</td>
<td style="text-align: left;">Rob</td>
<td style="text-align: left;">Reiner</td>
<td style="text-align: left;">Few Good Men, A</td>
<td style="text-align: right;">1992</td>
<td style="text-align: right;">7.5</td>
</tr>
<tr class="even">
<td style="text-align: right;">66849</td>
<td style="text-align: right;">306032</td>
<td style="text-align: left;">Guy</td>
<td style="text-align: left;">Ritchie</td>
<td style="text-align: left;">Snatch.</td>
<td style="text-align: right;">2000</td>
<td style="text-align: right;">7.9</td>
</tr>
<tr class="odd">
<td style="text-align: right;">68161</td>
<td style="text-align: right;">116907</td>
<td style="text-align: left;">Herbert (I)</td>
<td style="text-align: left;">Ross</td>
<td style="text-align: left;">Footloose</td>
<td style="text-align: right;">1984</td>
<td style="text-align: right;">5.8</td>
</tr>
<tr class="even">
<td style="text-align: right;">74758</td>
<td style="text-align: right;">238072</td>
<td style="text-align: left;">Steven</td>
<td style="text-align: left;">Soderbergh</td>
<td style="text-align: left;">Ocean's Eleven</td>
<td style="text-align: right;">2001</td>
<td style="text-align: right;">7.5</td>
</tr>
<tr class="odd">
<td style="text-align: right;">76524</td>
<td style="text-align: right;">167324</td>
<td style="text-align: left;">Oliver (I)</td>
<td style="text-align: left;">Stone</td>
<td style="text-align: left;">JFK</td>
<td style="text-align: right;">1991</td>
<td style="text-align: right;">7.8</td>
</tr>
<tr class="even">
<td style="text-align: right;">78273</td>
<td style="text-align: right;">176711</td>
<td style="text-align: left;">Quentin</td>
<td style="text-align: left;">Tarantino</td>
<td style="text-align: left;">Kill Bill: Vol. 1</td>
<td style="text-align: right;">2003</td>
<td style="text-align: right;">8.4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">78273</td>
<td style="text-align: right;">176712</td>
<td style="text-align: left;">Quentin</td>
<td style="text-align: left;">Tarantino</td>
<td style="text-align: left;">Kill Bill: Vol. 2</td>
<td style="text-align: right;">2004</td>
<td style="text-align: right;">8.2</td>
</tr>
<tr class="even">
<td style="text-align: right;">78273</td>
<td style="text-align: right;">267038</td>
<td style="text-align: left;">Quentin</td>
<td style="text-align: left;">Tarantino</td>
<td style="text-align: left;">Pulp Fiction</td>
<td style="text-align: right;">1994</td>
<td style="text-align: right;">8.7</td>
</tr>
<tr class="odd">
<td style="text-align: right;">78273</td>
<td style="text-align: right;">276217</td>
<td style="text-align: left;">Quentin</td>
<td style="text-align: left;">Tarantino</td>
<td style="text-align: left;">Reservoir Dogs</td>
<td style="text-align: right;">1992</td>
<td style="text-align: right;">8.3</td>
</tr>
<tr class="even">
<td style="text-align: right;">82525</td>
<td style="text-align: right;">147603</td>
<td style="text-align: left;">Paul (I)</td>
<td style="text-align: left;">Verhoeven</td>
<td style="text-align: left;">Hollow Man</td>
<td style="text-align: right;">2000</td>
<td style="text-align: right;">5.3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">83616</td>
<td style="text-align: right;">207992</td>
<td style="text-align: left;">Andy</td>
<td style="text-align: left;">Wachowski</td>
<td style="text-align: left;">Matrix, The</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8.5</td>
</tr>
<tr class="even">
<td style="text-align: right;">83617</td>
<td style="text-align: right;">207992</td>
<td style="text-align: left;">Larry</td>
<td style="text-align: left;">Wachowski</td>
<td style="text-align: left;">Matrix, The</td>
<td style="text-align: right;">1999</td>
<td style="text-align: right;">8.5</td>
</tr>
<tr class="odd">
<td style="text-align: right;">88802</td>
<td style="text-align: right;">256630</td>
<td style="text-align: left;">Unknown</td>
<td style="text-align: left;">Director</td>
<td style="text-align: left;">Pirates of the Caribbean</td>
<td style="text-align: right;">2003</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>
</div>

</div>
</div>
</div>
</div>
</div>
</section>
<section id="joining-on-multiple-variables" class="level2">
<h2 class="anchored" data-anchor-id="joining-on-multiple-variables">Joining on Multiple Variables</h2>
<p>Consider the <code>rodent</code> data from Lab 2.</p>
<ul>
<li>We want to add <code>species_id</code> to the rodent measurements.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>rodent <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"labs"</span>, </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"student"</span>, </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"data"</span>, </span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"surveys.csv"</span>)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>                   )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 30463 Columns: 15
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (7): species_id, sex, day_of_week, plot_type, genus, species, taxa
dbl  (7): record_id, month, day, year, plot_id, hindfoot_length, weight
date (1): date

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>species <span class="ot">&lt;-</span> rodent <span class="sc">|&gt;</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(genus<span class="sc">:</span>taxa, species_id) <span class="sc">|&gt;</span> </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>()</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>measurements <span class="ot">&lt;-</span> rodent <span class="sc">|&gt;</span> </span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(genus, species, sex<span class="sc">:</span>weight) <span class="sc">|&gt;</span> </span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">genus_name =</span> genus)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Species</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Measurements</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>species</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; ">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">genus</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">species</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">taxa</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">species_id</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">ordii</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DO</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PF</td>
</tr>
<tr class="even">
<td style="text-align: left;">Chaetodipus</td>
<td style="text-align: left;">penicillatus</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PP</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Peromyscus</td>
<td style="text-align: left;">eremicus</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PE</td>
</tr>
<tr class="even">
<td style="text-align: left;">Onychomys</td>
<td style="text-align: left;">leucogaster</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">OL</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Reithrodontomys</td>
<td style="text-align: left;">megalotis</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">RM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">spectabilis</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DS</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Onychomys</td>
<td style="text-align: left;">torridus</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">OT</td>
</tr>
<tr class="even">
<td style="text-align: left;">Neotoma</td>
<td style="text-align: left;">albigula</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">NL</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Peromyscus</td>
<td style="text-align: left;">maniculatus</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sigmodon</td>
<td style="text-align: left;">hispidus</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">SH</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Reithrodontomys</td>
<td style="text-align: left;">fulvescens</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">RF</td>
</tr>
<tr class="even">
<td style="text-align: left;">Chaetodipus</td>
<td style="text-align: left;">baileyi</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PB</td>
</tr>
</tbody>
</table>
</div>

</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>measurements</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; ">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">genus_name</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">species</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">sex</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">hindfoot_length</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">weight</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">40</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">48</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">29</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">46</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">36</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">ordii</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">52</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">35</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">22</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">42</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">41</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">37</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">43</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">41</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">40</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">45</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Chaetodipus</td>
<td style="text-align: left;">penicillatus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">15</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">29</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">39</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">43</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">46</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">41</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">41</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">40</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">45</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">46</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">40</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">30</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">39</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">34</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">42</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">42</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">31</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">40</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">37</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">48</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">42</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">45</td>
</tr>
<tr class="even">
<td style="text-align: left;">Chaetodipus</td>
<td style="text-align: left;">penicillatus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">16</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">36</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">42</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">44</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">41</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">40</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">34</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">40</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">44</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">44</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">36</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">33</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">46</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">35</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">46</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">37</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">34</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">45</td>
</tr>
<tr class="even">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">51</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">39</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">29</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">48</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">46</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">41</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">45</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">42</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">53</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">49</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">46</td>
</tr>
<tr class="even">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Chaetodipus</td>
<td style="text-align: left;">penicillatus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">15</td>
</tr>
<tr class="even">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">48</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">51</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">50</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">44</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">44</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">45</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">45</td>
</tr>
<tr class="even">
<td style="text-align: left;">Peromyscus</td>
<td style="text-align: left;">eremicus</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">19</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">44</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">42</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">39</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">47</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">42</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">49</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">39</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">43</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">50</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">41</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">47</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">37</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">41</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">36</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">45</td>
</tr>
<tr class="even">
<td style="text-align: left;">Peromyscus</td>
<td style="text-align: left;">eremicus</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">20</td>
</tr>
</tbody>
</table>
</div>

</div>
</div>
</div>
</div>
</div>
</section>
<section id="join-by-species-genus" class="level2">
<h2 class="anchored" data-anchor-id="join-by-species-genus">Join by <code>species</code> + <code>genus</code></h2>
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>measurements <span class="sc">|&gt;</span> </span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(species,</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">join_by</span>(species <span class="sc">==</span> species, </span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>                         genus_name <span class="sc">==</span> genus)</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>            )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px; ">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">genus_name</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">species</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">sex</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">hindfoot_length</th>
<th data-quarto-table-cell-role="th" style="text-align: right; position: sticky; top: 0; background-color: #FFFFFF;">weight</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">taxa</th>
<th data-quarto-table-cell-role="th" style="text-align: left; position: sticky; top: 0; background-color: #FFFFFF;">species_id</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">48</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">46</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">36</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">ordii</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">52</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DO</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PF</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">35</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">7</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PF</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">22</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">9</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PF</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">42</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PF</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">41</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">37</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">43</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">41</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">9</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PF</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">45</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Chaetodipus</td>
<td style="text-align: left;">penicillatus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PP</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">39</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">43</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">46</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">41</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">41</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">45</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">46</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">30</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">39</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">34</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">42</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">42</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PF</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">31</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">37</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">48</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">42</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">39</td>
<td style="text-align: right;">45</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Chaetodipus</td>
<td style="text-align: left;">penicillatus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">16</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PP</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">36</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">42</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">44</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">41</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">34</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">40</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">44</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">44</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">36</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">33</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">46</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">35</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">46</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">33</td>
<td style="text-align: right;">37</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">34</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">45</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">7</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PF</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">51</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">39</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">29</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">48</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">46</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">41</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">45</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">42</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">53</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">49</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">46</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">9</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PF</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Chaetodipus</td>
<td style="text-align: left;">penicillatus</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PP</td>
</tr>
<tr class="even">
<td style="text-align: left;">Perognathus</td>
<td style="text-align: left;">flavus</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PF</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">48</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">51</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">50</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">44</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">44</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">45</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">45</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Peromyscus</td>
<td style="text-align: left;">eremicus</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PE</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">44</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">42</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">39</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">47</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">42</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">49</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">38</td>
<td style="text-align: right;">39</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">43</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">35</td>
<td style="text-align: right;">50</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">41</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">47</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">37</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">41</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">F</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">36</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Dipodomys</td>
<td style="text-align: left;">merriami</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">45</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">DM</td>
</tr>
<tr class="even">
<td style="text-align: left;">Peromyscus</td>
<td style="text-align: left;">eremicus</td>
<td style="text-align: left;">M</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">20</td>
<td style="text-align: left;">Rodent</td>
<td style="text-align: left;">PE</td>
</tr>
</tbody>
</table>
</div>

</div>
</div>
<p>. . .</p>
<p><br></p>
<div class="small">
<p><strong>What if a species was included in the <code>species</code> dataset, but not in the <code>measurement</code> dataset?</strong></p>
</div>
</section>
</section>
<section id="factor-variables" class="level1">
<h1>Factor Variables</h1>
<section id="what-is-a-factor-variable" class="level2">
<h2 class="anchored" data-anchor-id="what-is-a-factor-variable">What is a factor variable?</h2>
<p><br></p>
<p>In general, factors are used for:</p>
<ol type="1">
<li>categorical variables with a fixed and known set of possible values.</li>
</ol>
<ul>
<li>E.g., <code>day_born</code> = Sunday, Monday, Tuesday, …, Saturday</li>
</ul>
<ol start="2" type="1">
<li>displaying character vectors in non-alphabetical order.</li>
</ol>
</section>
<section id="eras-tour" class="level2">
<h2 class="anchored" data-anchor-id="eras-tour">Eras Tour</h2>
<p>Let’s consider songs that Taylor Swift played on her Eras Tour. I have randomly selected 25 songs (and their albums) to consider.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>eras_data </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 25 × 2
   Song               Album     
   &lt;chr&gt;              &lt;chr&gt;     
 1 22                 Red       
 2 ...Ready for It?   Reputation
 3 The Archer         Lover     
 4 Bejeweled          Midnights 
 5 Style              1989      
 6 You Belong With Me Fearless  
 7 Don't Blame Me     Reputation
 8 illicit affairs    Folklore  
 9 Lavender Haze      Midnights 
10 marjorie           Evermore  
# ℹ 15 more rows</code></pre>
</div>
</div>
</section>
<section id="creating-a-factor-base-r" class="level2">
<h2 class="anchored" data-anchor-id="creating-a-factor-base-r">Creating a Factor – Base <code>R</code></h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">A <strong>character</strong> vector:</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">A <strong>factor</strong> vector:</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>eras_data <span class="sc">|&gt;</span> </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Album)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Red"        "Reputation" "Lover"      "Midnights"  "1989"      
 [6] "Fearless"   "Reputation" "Folklore"   "Midnights"  "Evermore"  
[11] "Evermore"   "Lover"      "Lover"      "Red"        "Reputation"
[16] "Reputation" "Speak Now"  "Red"        "Midnights"  "Fearless"  
[21] "1989"       "Midnights"  "Fearless"   "Folklore"   "Lover"     </code></pre>
</div>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>eras_data <span class="sc">|&gt;</span> </span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Album) <span class="sc">|&gt;</span> </span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.factor</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] Red        Reputation Lover      Midnights  1989       Fearless  
 [7] Reputation Folklore   Midnights  Evermore   Evermore   Lover     
[13] Lover      Red        Reputation Reputation Speak Now  Red       
[19] Midnights  Fearless   1989       Midnights  Fearless   Folklore  
[25] Lover     
9 Levels: 1989 Evermore Fearless Folklore Lover Midnights Red ... Speak Now</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="creating-a-factor-base-r-1" class="level2">
<h2 class="anchored" data-anchor-id="creating-a-factor-base-r-1">Creating a Factor – Base <code>R</code></h2>
<p>When you create a factor variable from a vector…</p>
<ul>
<li>Every unique element in the vector becomes a <strong>level</strong>.</li>
<li>The levels are ordered alphabetically.</li>
<li>The elements are no longer displayed in quotes.</li>
</ul>
</section>
<section id="creating-a-factor-base-r-2" class="level2">
<h2 class="anchored" data-anchor-id="creating-a-factor-base-r-2">Creating a Factor – Base <code>R</code></h2>
<p>You can <strong>specify the order of the levels</strong> with the <code>levels</code> argument.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>eras_data <span class="sc">|&gt;</span> </span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Album) <span class="sc">|&gt;</span> </span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">factor</span>(<span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Fearless"</span>,</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Speak Now"</span>,</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Red"</span>,</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"1989"</span>,</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Reputation"</span>,</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Lover"</span>,</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Folklore"</span>,</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Evermore"</span>,</span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"Midnights"</span>)</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>         )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="forcats" class="level2">
<h2 class="anchored" data-anchor-id="forcats"><code>forcats</code></h2>
<div class="columns">
<div class="column" style="width:80%;">
<div class="small">
<p>We use this package to…</p>
<ul>
<li><p>turn character variables into factors.</p></li>
<li><p>make factors by discretizing numeric variables.</p></li>
<li><p>rename or reorder the levels of an existing factor.</p></li>
</ul>
</div>
</div><div class="column" style="width:20%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"https://github.com/rstudio/hex-stickers/blob/main/thumbs/forcats.png?raw=true"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://github.com/rstudio/hex-stickers/blob/main/thumbs/forcats.png?raw=true" class="img-fluid quarto-figure quarto-figure-center figure-img" alt="The image shows a hexagonal logo with a brown border featuring a group of black cats resting inside a cardboard box. The cats appear relaxed, laying on top of one another, with their eyes closed or half-open. The word forcats is written on the side of the box in a light brown color. This image represents the logo of the R package forcats, which is typically used for handling categorical variables (factors) in data analysis within the R programming environment."></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<div class="small">
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<code>forcats</code> loads with <code>tidyverse</code>!
</div>
</div>
<div class="callout-body-container callout-body">
<p>The packages <code>forcats</code> (“for categoricals”) helps wrangle categorical variables.</p>
</div>
</div>
</div>
</section>
<section id="creating-a-factor-fct" class="level2">
<h2 class="anchored" data-anchor-id="creating-a-factor-fct">Creating a Factor – <code>fct</code></h2>
<p>With <code>fct()</code>, the levels are automatically ordered in the <strong>order of first appearance</strong>.</p>
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>eras_data <span class="sc">|&gt;</span> </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Album) <span class="sc">|&gt;</span> </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fct</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] Red        Reputation Lover      Midnights  1989       Fearless  
 [7] Reputation Folklore   Midnights  Evermore   Evermore   Lover     
[13] Lover      Red        Reputation Reputation Speak Now  Red       
[19] Midnights  Fearless   1989       Midnights  Fearless   Folklore  
[25] Lover     
9 Levels: Red Reputation Lover Midnights 1989 Fearless Folklore ... Speak Now</code></pre>
</div>
</div>
</div>
</section>
<section id="creating-a-factor" class="level2">
<h2 class="anchored" data-anchor-id="creating-a-factor">Creating a Factor</h2>
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>eras_data <span class="ot">&lt;-</span> eras_data <span class="sc">|&gt;</span> </span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Album =</span> <span class="fu">fct</span>(Album))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="small">
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
To change a column type to factor, you must wrap <code>fct()</code> in a <code>mutate()</code> call.
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
</div>
<p>. . .</p>
<p><br></p>
<div class="small">
<p>I am using <code>pull()</code> to display the outcome:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>eras_data <span class="sc">|&gt;</span> </span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Album) <span class="sc">|&gt;</span> </span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fct</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] Red        Reputation Lover      Midnights  1989       Fearless  
 [7] Reputation Folklore   Midnights  Evermore   Evermore   Lover     
[13] Lover      Red        Reputation Reputation Speak Now  Red       
[19] Midnights  Fearless   1989       Midnights  Fearless   Folklore  
[25] Lover     
9 Levels: Red Reputation Lover Midnights 1989 Fearless Folklore ... Speak Now</code></pre>
</div>
</div>
</div>
</section>
<section id="creating-a-factor-fct-1" class="level2">
<h2 class="anchored" data-anchor-id="creating-a-factor-fct-1">Creating a Factor – <code>fct</code></h2>
<p>You can still <strong>specify the order of the levels</strong> with <code>level</code>.</p>
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>eras_data <span class="sc">|&gt;</span> </span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Album) <span class="sc">|&gt;</span> </span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fct</span>(<span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Fearless"</span>,</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Speak Now"</span>,</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Red"</span>,</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"1989"</span>,</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Reputation"</span>,</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Lover"</span>,</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Folklore"</span>,</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Evermore"</span>,</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Midnights"</span>)</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>      )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="creating-a-factor-fct-2" class="level2">
<h2 class="anchored" data-anchor-id="creating-a-factor-fct-2">Creating a Factor – <code>fct</code></h2>
<p>You can also <strong>specify non-present levels</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>eras_data <span class="sc">|&gt;</span> </span>
<span id="cb44-2"><a href="#cb44-2"></a>  <span class="fu">pull</span>(Album) <span class="sc">|&gt;</span> </span>
<span id="cb44-3"><a href="#cb44-3"></a>  <span class="fu">fct</span>(<span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Taylor Swift"</span>,</span>
<span id="cb44-4"><a href="#cb44-4"></a>                 <span class="st">"Fearless"</span>,</span>
<span id="cb44-5"><a href="#cb44-5"></a>                 <span class="st">"Speak Now"</span>,</span>
<span id="cb44-6"><a href="#cb44-6"></a>                 <span class="st">"Red"</span>,</span>
<span id="cb44-7"><a href="#cb44-7"></a>                 <span class="st">"1989"</span>,</span>
<span id="cb44-8"><a href="#cb44-8"></a>                 <span class="st">"Reputation"</span>,</span>
<span id="cb44-9"><a href="#cb44-9"></a>                 <span class="st">"Lover"</span>,</span>
<span id="cb44-10"><a href="#cb44-10"></a>                 <span class="st">"Folklore"</span>,</span>
<span id="cb44-11"><a href="#cb44-11"></a>                 <span class="st">"Evermore"</span>,</span>
<span id="cb44-12"><a href="#cb44-12"></a>                 <span class="st">"Midnights"</span>,</span>
<span id="cb44-13"><a href="#cb44-13"></a>                 <span class="st">"The Tortured Poets Department"</span>)</span>
<span id="cb44-14"><a href="#cb44-14"></a>      ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="re-coding-a-factor-fct_recode" class="level2">
<h2 class="anchored" data-anchor-id="re-coding-a-factor-fct_recode">Re-coding a Factor – <code>fct_recode</code></h2>
<div class="small">
<p>Oops, we have a typo in some of our levels! We change existing levels with the syntax: <code>"&lt;new level&gt;" = "&lt;old level&gt;"</code>.</p>
</div>
<p>. . .</p>
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>eras_data <span class="sc">|&gt;</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Album =</span> <span class="fu">fct_recode</span>(<span class="at">.f =</span> Album,</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"folklore"</span> <span class="ot">=</span> <span class="st">"Folklore"</span>,</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"evermore"</span> <span class="ot">=</span> <span class="st">"Evermore"</span>,</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"reputation"</span> <span class="ot">=</span> <span class="st">"Reputation"</span>)</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>         )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 25 × 2
   Song               Album     
   &lt;chr&gt;              &lt;fct&gt;     
 1 22                 Red       
 2 ...Ready for It?   reputation
 3 The Archer         Lover     
 4 Bejeweled          Midnights 
 5 Style              1989      
 6 You Belong With Me Fearless  
 7 Don't Blame Me     reputation
 8 illicit affairs    folklore  
 9 Lavender Haze      Midnights 
10 marjorie           evermore  
# ℹ 15 more rows</code></pre>
</div>
</div>
</div>
</section>
<section id="re-coding-a-factor-case_when" class="level2">
<h2 class="anchored" data-anchor-id="re-coding-a-factor-case_when">Re-coding a Factor – <code>case_when</code></h2>
<div class="small">
<p>We have similar functionality with the <code>case_when()</code> function…</p>
</div>
<p>. . .</p>
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>eras_data <span class="sc">|&gt;</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Album =</span> <span class="fu">case_when</span>(Album <span class="sc">==</span> <span class="st">"Folklore"</span> <span class="sc">~</span> <span class="st">"folklore"</span>,</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>                           Album <span class="sc">==</span> <span class="st">"Evermore"</span> <span class="sc">~</span> <span class="st">"evermore"</span>,</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>                           Album <span class="sc">==</span> <span class="st">"Reputation"</span> <span class="sc">~</span> <span class="st">"reputation"</span>,</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">.default =</span> Album),</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">Album =</span> <span class="fu">fct</span>(Album)) <span class="sc">|&gt;</span> </span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Album)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] Red        reputation Lover      Midnights  1989       Fearless  
 [7] reputation folklore   Midnights  evermore   evermore   Lover     
[13] Lover      Red        reputation reputation Speak Now  Red       
[19] Midnights  Fearless   1989       Midnights  Fearless   folklore  
[25] Lover     
9 Levels: Red reputation Lover Midnights 1989 Fearless folklore ... Speak Now</code></pre>
</div>
</div>
</div>
</section>
<section id="collapsing-a-factor-fct_collapse" class="level2">
<h2 class="anchored" data-anchor-id="collapsing-a-factor-fct_collapse">Collapsing a Factor –<code>fct_collapse</code></h2>
<div class="small">
<p>Collapse multiple existing levels of a factor with the syntax:</p>
<p><code>"&lt;new level&gt;" = c("&lt;old level&gt;", "&lt;old level&gt;", ...)</code>.</p>
</div>
<p>. . .</p>
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>eras_data <span class="sc">|&gt;</span> </span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Genre =</span> <span class="fu">fct_collapse</span>(<span class="at">.f =</span> Album,</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"country pop"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Taylor Swift"</span>, <span class="st">"Fearless"</span>),</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"pop rock"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Speak Now"</span>, <span class="st">"Red"</span>),</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"electropop"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"1989"</span>, <span class="st">"Reputation"</span>, <span class="st">"Lover"</span>),</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"folk pop"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Folklore"</span>, <span class="st">"Evermore"</span>),</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"alt-pop"</span> <span class="ot">=</span> <span class="st">"Midnights"</span>)</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">|&gt;</span> </span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  Song                                    Album      Genre      
  &lt;chr&gt;                                   &lt;fct&gt;      &lt;fct&gt;      
1 willow                                  Evermore   folk pop   
2 You Belong With Me                      Fearless   country pop
3 Lavender Haze                           Midnights  alt-pop    
4 We Are Never Ever Getting Back Together Red        pop rock   
5 illicit affairs                         Folklore   folk pop   
6 Look What You Made Me Do                Reputation electropop </code></pre>
</div>
</div>
</div>
</section>
<section id="re-leveling-a-factor-fct_relevel" class="level2">
<h2 class="anchored" data-anchor-id="re-leveling-a-factor-fct_relevel">Re-leveling a Factor –<code>fct_relevel</code></h2>
<p>Change the <strong>order</strong> of the levels of an existing factor.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">Original</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">Ordered by Copies Sold</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>eras_data <span class="sc">|&gt;</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Album) <span class="sc">|&gt;</span> </span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">levels</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Taylor Swift"                  "Fearless"                     
 [3] "Speak Now"                     "Red"                          
 [5] "1989"                          "Reputation"                   
 [7] "Lover"                         "Folklore"                     
 [9] "Evermore"                      "Midnights"                    
[11] "The Tortured Poets Department"</code></pre>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>eras_data <span class="sc">|&gt;</span> </span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(Album) <span class="sc">|&gt;</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fct_relevel</span>(<span class="fu">c</span>(<span class="st">"Fearless"</span>,</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>                <span class="st">"1989"</span>,</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Taylor Swift"</span>,</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Speak Now"</span>,</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Red"</span>,</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Midnights"</span>,</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Reputation"</span>,</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Folklore"</span>,</span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Lover"</span>,</span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>                <span class="st">"Evermore"</span>)</span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>              ) <span class="sc">|&gt;</span> </span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">levels</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="re-ordering-factors-in-ggplot2" class="level2">
<h2 class="anchored" data-anchor-id="re-ordering-factors-in-ggplot2">Re-ordering Factors in <code>ggplot2</code></h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">Original</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">Plot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-3" role="tab" aria-controls="tabset-5-3" aria-selected="false">Specify Levels</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-4" role="tab" aria-controls="tabset-5-4" aria-selected="false">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<p>The bars follow the default factor levels.</p>
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>full_eras <span class="sc">|&gt;</span> </span>
<span id="cb54-2"><a href="#cb54-2"></a>  <span class="fu">mutate</span>(<span class="at">Album =</span> <span class="fu">fct</span>(Album)) <span class="sc">|&gt;</span> </span>
<span id="cb54-3"><a href="#cb54-3"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> Album,</span>
<span id="cb54-4"><a href="#cb54-4"></a>               <span class="at">fill =</span> Album)</span>
<span id="cb54-5"><a href="#cb54-5"></a>         ) <span class="sc">+</span></span>
<span id="cb54-6"><a href="#cb54-6"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb54-7"><a href="#cb54-7"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb54-8"><a href="#cb54-8"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb54-9"><a href="#cb54-9"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb54-10"><a href="#cb54-10"></a>       <span class="at">y =</span> <span class="st">""</span>,</span>
<span id="cb54-11"><a href="#cb54-11"></a>       <span class="at">title =</span> <span class="st">"Number of Songs Played on the Eras Tour by Album"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="week-4-joins-2_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-5-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-3-tab">
<div class="small">
<p>We can order factor levels to order the bar plot.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a>full_eras <span class="sc">|&gt;</span> </span>
<span id="cb55-2"><a href="#cb55-2"></a>  <span class="fu">mutate</span>(<span class="at">Album =</span> <span class="fu">fct</span>(Album,</span>
<span id="cb55-3"><a href="#cb55-3"></a>                     <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Fearless"</span>,</span>
<span id="cb55-4"><a href="#cb55-4"></a>                                <span class="st">"Speak Now"</span>,</span>
<span id="cb55-5"><a href="#cb55-5"></a>                                <span class="st">"Red"</span>,</span>
<span id="cb55-6"><a href="#cb55-6"></a>                                <span class="st">"1989"</span>,</span>
<span id="cb55-7"><a href="#cb55-7"></a>                                <span class="st">"Reputation"</span>,</span>
<span id="cb55-8"><a href="#cb55-8"></a>                                <span class="st">"Lover"</span>,</span>
<span id="cb55-9"><a href="#cb55-9"></a>                                <span class="st">"Folklore"</span>,</span>
<span id="cb55-10"><a href="#cb55-10"></a>                                <span class="st">"Evermore"</span>,</span>
<span id="cb55-11"><a href="#cb55-11"></a>                                <span class="st">"Midnights"</span>)</span>
<span id="cb55-12"><a href="#cb55-12"></a>                     )</span>
<span id="cb55-13"><a href="#cb55-13"></a>         ) <span class="sc">|&gt;</span> </span>
<span id="cb55-14"><a href="#cb55-14"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">y =</span> Album,</span>
<span id="cb55-15"><a href="#cb55-15"></a>               <span class="at">fill =</span> Album)</span>
<span id="cb55-16"><a href="#cb55-16"></a>         ) <span class="sc">+</span></span>
<span id="cb55-17"><a href="#cb55-17"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb55-18"><a href="#cb55-18"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb55-19"><a href="#cb55-19"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb55-20"><a href="#cb55-20"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb55-21"><a href="#cb55-21"></a>       <span class="at">y =</span> <span class="st">""</span>,</span>
<span id="cb55-22"><a href="#cb55-22"></a>       <span class="at">title =</span> <span class="st">"Number of Songs Played on the Eras Tour by Album"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-5-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-4-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="week-4-joins-2_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="re-ordering-factors-in-ggplot2-1" class="level2">
<h2 class="anchored" data-anchor-id="re-ordering-factors-in-ggplot2-1">Re-ordering Factors in <code>ggplot2</code></h2>
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>full_eras <span class="ot">&lt;-</span> full_eras <span class="sc">|&gt;</span> </span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Album =</span> <span class="fu">fct</span>(Album,</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Fearless"</span>,</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Speak Now"</span>,</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Red"</span>,</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"1989"</span>,</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Reputation"</span>,</span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Lover"</span>,</span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Folklore"</span>,</span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Evermore"</span>,</span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Midnights"</span>)</span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>                     )</span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a>         )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true">Original</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false">Plot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-3" role="tab" aria-controls="tabset-6-3" aria-selected="false"><code>fct_reorder()</code></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-4" role="tab" aria-controls="tabset-6-4" aria-selected="false">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="small">
<p>The ridge plots follow the order of the factor levels.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>full_eras <span class="sc">|&gt;</span> </span>
<span id="cb57-2"><a href="#cb57-2"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Length, </span>
<span id="cb57-3"><a href="#cb57-3"></a>                       <span class="at">y =</span> Album, </span>
<span id="cb57-4"><a href="#cb57-4"></a>                       <span class="at">fill =</span> Album)</span>
<span id="cb57-5"><a href="#cb57-5"></a>         ) <span class="sc">+</span></span>
<span id="cb57-6"><a href="#cb57-6"></a>  <span class="fu">geom_density_ridges</span>() <span class="sc">+</span></span>
<span id="cb57-7"><a href="#cb57-7"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb57-8"><a href="#cb57-8"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)<span class="sc">+</span></span>
<span id="cb57-9"><a href="#cb57-9"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Song Length (mins)"</span>,</span>
<span id="cb57-10"><a href="#cb57-10"></a>       <span class="at">y =</span> <span class="st">""</span>,</span>
<span id="cb57-11"><a href="#cb57-11"></a>       <span class="at">title =</span> <span class="st">"Length of Songs Played on the Eras Tour by Album"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Picking joint bandwidth of 0.165</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="week-4-joins-2_files/figure-html/unnamed-chunk-47-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-6-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-3-tab">
<div class="small">
<p>Inside <code>ggplot()</code>, we can order factor levels by a summary value.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a>full_eras <span class="sc">|&gt;</span> </span>
<span id="cb59-2"><a href="#cb59-2"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Length, </span>
<span id="cb59-3"><a href="#cb59-3"></a>             <span class="at">y =</span> <span class="fu">fct_reorder</span>(<span class="at">.f =</span> Album,</span>
<span id="cb59-4"><a href="#cb59-4"></a>                             <span class="at">.x =</span> Length,</span>
<span id="cb59-5"><a href="#cb59-5"></a>                             <span class="at">.fun =</span> mean), </span>
<span id="cb59-6"><a href="#cb59-6"></a>             <span class="at">fill =</span> Album)</span>
<span id="cb59-7"><a href="#cb59-7"></a>         ) <span class="sc">+</span></span>
<span id="cb59-8"><a href="#cb59-8"></a>  <span class="fu">geom_density_ridges</span>() <span class="sc">+</span></span>
<span id="cb59-9"><a href="#cb59-9"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb59-10"><a href="#cb59-10"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb59-11"><a href="#cb59-11"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Song Length (mins)"</span>,</span>
<span id="cb59-12"><a href="#cb59-12"></a>       <span class="at">y =</span> <span class="st">""</span>,</span>
<span id="cb59-13"><a href="#cb59-13"></a>       <span class="at">title =</span> <span class="st">"Length of Songs Played on the Eras Tour by Album"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-6-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-4-tab">
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Picking joint bandwidth of 0.165</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="week-4-joins-2_files/figure-html/unnamed-chunk-49-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="re-ordering-factors-in-ggplot2-2" class="level2">
<h2 class="anchored" data-anchor-id="re-ordering-factors-in-ggplot2-2">Re-ordering Factors in <code>ggplot2</code></h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true">Original</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" role="tab" aria-controls="tabset-7-2" aria-selected="false">Plot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-3" role="tab" aria-controls="tabset-7-3" aria-selected="false"><code>fct_reorder2()</code></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-4" role="tab" aria-controls="tabset-7-4" aria-selected="false">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>full_eras <span class="ot">&lt;-</span> full_eras <span class="sc">|&gt;</span> </span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Single =</span> <span class="fu">if_else</span>(Single <span class="sc">==</span> <span class="st">"Y"</span>, <span class="dv">1</span>, <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="small">
<p>The legend follows the order of the factor levels.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a>full_eras <span class="sc">|&gt;</span> </span>
<span id="cb62-2"><a href="#cb62-2"></a>  <span class="fu">filter</span>(<span class="sc">!</span>Album <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"1989"</span>,<span class="st">"Fearless"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb62-3"><a href="#cb62-3"></a>  <span class="fu">group_by</span>(Album, Single) <span class="sc">|&gt;</span> </span>
<span id="cb62-4"><a href="#cb62-4"></a>  <span class="fu">summarise</span>(<span class="at">avg_len =</span> <span class="fu">mean</span>(Length)) <span class="sc">|&gt;</span> </span>
<span id="cb62-5"><a href="#cb62-5"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Single, </span>
<span id="cb62-6"><a href="#cb62-6"></a>                       <span class="at">y =</span> avg_len, </span>
<span id="cb62-7"><a href="#cb62-7"></a>                       <span class="at">color =</span> Album)) <span class="sc">+</span></span>
<span id="cb62-8"><a href="#cb62-8"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb62-9"><a href="#cb62-9"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb62-10"><a href="#cb62-10"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb62-11"><a href="#cb62-11"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>),</span>
<span id="cb62-12"><a href="#cb62-12"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"No"</span>, <span class="st">"Yes"</span>)</span>
<span id="cb62-13"><a href="#cb62-13"></a>                     ) <span class="sc">+</span></span>
<span id="cb62-14"><a href="#cb62-14"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">""</span>,</span>
<span id="cb62-15"><a href="#cb62-15"></a>       <span class="at">title =</span> <span class="st">"Are Taylor Swift's Singles Shorter?"</span>,</span>
<span id="cb62-16"><a href="#cb62-16"></a>       <span class="at">color =</span> <span class="st">"Album"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-7-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-2-tab">
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'Album'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="week-4-joins-2_files/figure-html/unnamed-chunk-52-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-7-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-3-tab">
<div class="small">
<p>Inside <code>ggplot()</code>, we can order factor levels by the <span class="math inline">\(y\)</span> values associated with the largest <span class="math inline">\(x\)</span> values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a>full_eras <span class="sc">|&gt;</span> </span>
<span id="cb64-2"><a href="#cb64-2"></a>  <span class="fu">filter</span>(<span class="sc">!</span>Album <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"1989"</span>,<span class="st">"Fearless"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb64-3"><a href="#cb64-3"></a>  <span class="fu">group_by</span>(Album, Single) <span class="sc">|&gt;</span> </span>
<span id="cb64-4"><a href="#cb64-4"></a>  <span class="fu">summarise</span>(<span class="at">avg_len =</span> <span class="fu">mean</span>(Length)) <span class="sc">|&gt;</span> </span>
<span id="cb64-5"><a href="#cb64-5"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Single, </span>
<span id="cb64-6"><a href="#cb64-6"></a>                       <span class="at">y =</span> avg_len, </span>
<span id="cb64-7"><a href="#cb64-7"></a>                       <span class="at">color =</span> <span class="fu">fct_reorder2</span>(<span class="at">.f =</span> Album,</span>
<span id="cb64-8"><a href="#cb64-8"></a>                                            <span class="at">.x =</span> Single,</span>
<span id="cb64-9"><a href="#cb64-9"></a>                                            <span class="at">.y =</span> avg_len)</span>
<span id="cb64-10"><a href="#cb64-10"></a>                       )</span>
<span id="cb64-11"><a href="#cb64-11"></a>         ) <span class="sc">+</span></span>
<span id="cb64-12"><a href="#cb64-12"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb64-13"><a href="#cb64-13"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb64-14"><a href="#cb64-14"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb64-15"><a href="#cb64-15"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>),</span>
<span id="cb64-16"><a href="#cb64-16"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"No"</span>, <span class="st">"Yes"</span>)</span>
<span id="cb64-17"><a href="#cb64-17"></a>                     ) <span class="sc">+</span></span>
<span id="cb64-18"><a href="#cb64-18"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">""</span>,</span>
<span id="cb64-19"><a href="#cb64-19"></a>       <span class="at">title =</span> <span class="st">"Are Taylor Swift's Singles Shorter?"</span>,</span>
<span id="cb64-20"><a href="#cb64-20"></a>       <span class="at">color =</span> <span class="st">"Album"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-7-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-4-tab">
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'Album'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="week-4-joins-2_files/figure-html/unnamed-chunk-54-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="lab-4-childcare-costs-in-california" class="level1">
<h1><a href="../../labs/instructions/lab-4-instructions.html">Lab 4: Childcare Costs in California</a></h1>
<div class="columns">
<div class="column" style="width:40%;">

</div><div class="column" style="width:5%;">

</div><div class="column" style="width:55%;">
<p><img src="images/childcare-cost-map.png" class="img-fluid" alt="The image is a color-coded map of the United States, showing the cost of childcare across different states. The map uses a gradient scale from light green (representing lower costs around $5,000) to dark blue (representing higher costs around $21,000). States with the most expensive childcare, such as Massachusetts ($21,019) and Washington, D.C. ($20,913), are shaded in dark blue, indicating the highest costs. States with lower costs, such as Mississippi ($5,436) and Alabama ($6,001), are shaded in light green. The map's data comes from the Economic Policy Institute, with the source indicated as Money Scoop, and was created using Datawrapper."></p>
</div>
</div>
<section id="chatgpt-to-the-rescue" class="level2">
<h2 class="anchored" data-anchor-id="chatgpt-to-the-rescue">ChatGPT to the Rescue!</h2>
<div class="columns">
<div class="column" style="width:40%;">
<blockquote class="blockquote">
<p><a href="https://chatgpt.com/c/67103b47-d8ec-8012-bb72-5cb0467ebe18">collapse the CA regions into the 10 Census regions</a></p>
</blockquote>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:55%;">
<p><img src="images/ca-counties.png" class="img-fluid" alt="The image displays a map of California divided into regions based on the 2020 Census, along with a table listing the counties in each region. The map on the left uses different colors to highlight each of the 10 regions, with areas such as the San Francisco Bay Area and South Coast labeled. A legend at the bottom of the map assigns numbers and colors to each region: Superior California, North Coast, San Francisco Bay Area, Northern San Joaquin Valley, Central Coast, Southern San Joaquin Valley, Inland Empire, Los Angeles County, Orange County, and San Diego/Imperial. On the right side, a table lists the regions by number and their respective counties. For example, Region 1 includes counties like Butte, Colusa, and El Dorado, while Region 8 consists solely of Los Angeles County. Other regions contain a mix of multiple counties, such as Region 3, which includes Alameda, Contra Costa, and San Francisco."></p>
</div>
</div>
</section>
<section id="to-do" class="level2">
<h2 class="anchored" data-anchor-id="to-do">To do…</h2>
<ul>
<li><strong>Lab 4: Childcare Costs in California</strong>
<ul>
<li>Due Sunday (10/20) at 11:59pm</li>
</ul></li>
<li><strong>Read Chapter 5: Strings + Dates</strong>
<ul>
<li><strong>Check-in 5.1</strong> due Tuesday (10/22) at 12:10pm</li>
<li><strong>Check-in 5.2</strong> due Thursday (10/24) at 12:10pm</li>
</ul></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/github\.com\/hglanz\/statistical-computing-with-r");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© Copyright 2024, Hunter Glanz (original by Allison Theobold &amp; Judith Canner)</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/hglanz/statistical-computing-with-r/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>This page is built with ❤️ and <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>