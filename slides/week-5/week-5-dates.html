<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Using lubridate to Work with Dates – Introduction to Statistical Computing in R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-d166b450ba5a8e9f7a0ab969bf6592c1.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-dd01fc8b47943ccb281ee7996e9eafb5.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-760729c915d1dde12ab269fcb4c0541b.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Using <code>lubridate</code> to Work with Dates</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../../index.html" class="sidebar-logo-link">
      <img src="../../images/r-flowers.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/hglanz/statistical-computing-with-r" title="GitHub organization" class="quarto-navigation-tool px-1" aria-label="GitHub organization"><i class="bi bi-github"></i></a>
    <a href="https://canvas.calpoly.edu" title="Cal Poly Canvas" class="quarto-navigation-tool px-1" aria-label="Cal Poly Canvas"><i class="bi bi-person-fill"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Course information</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../course-materials/course-overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../course-materials/course-syllabus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Syllabus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../course-materials/course-support.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Support</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../course-materials/course-team.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Teaching team</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Schedule</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../course-materials/computing-access.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Access</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../course-materials/course_resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R Resources</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text">Weekly materials</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../weeks/week-0-discord.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 0 - Course Set-up</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../weeks/week-1-r-rstudio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 1, Part 1 - R &amp; RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../weeks/week-1-quarto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 1, Part 2 - Quarto</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../weeks/week-1-version-control.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 1, Part 3 - Version Control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../weeks/week-2-ggplot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 2, Part 1 - ggplot</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../weeks/week-2-projects-data-import.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 2, Part 2 - Data Import</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../weeks/week-3-dplyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Week 3 - dplyr</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">Labs</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../labs/instructions/lab-1-instructions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab 1 &amp; Challenge 1 Instructions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../labs/instructions/lab-2-instructions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab 2 Instructions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../labs/instructions/challenge-2-instructions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Challenge 2 Instructions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../labs/instructions/lab-3-instructions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab 3 Instructions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../labs/instructions/challenge-3-instructions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Challenge 3 Instructions</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#thursday-october-24" id="toc-thursday-october-24" class="nav-link active" data-scroll-target="#thursday-october-24">Thursday, October 24</a></li>
  <li><a href="#lab-3-challenge-3-revisions" id="toc-lab-3-challenge-3-revisions" class="nav-link" data-scroll-target="#lab-3-challenge-3-revisions">Lab 3 / Challenge 3 Revisions</a></li>
  <li><a href="#lab-3-challenge-3-revisions-1" id="toc-lab-3-challenge-3-revisions-1" class="nav-link" data-scroll-target="#lab-3-challenge-3-revisions-1">Lab 3 / Challenge 3 Revisions</a></li>
  <li><a href="#lab-4" id="toc-lab-4" class="nav-link" data-scroll-target="#lab-4">Lab 4</a>
  <ul class="collapse">
  <li><a href="#common-mishaps" id="toc-common-mishaps" class="nav-link" data-scroll-target="#common-mishaps">Common Mishaps</a></li>
  <li><a href="#recreating-the-plot" id="toc-recreating-the-plot" class="nav-link" data-scroll-target="#recreating-the-plot">Recreating the Plot</a></li>
  <li><a href="#other-big-picture-code-feedback" id="toc-other-big-picture-code-feedback" class="nav-link" data-scroll-target="#other-big-picture-code-feedback">Other “Big Picture” Code Feedback</a></li>
  <li><a href="#saving-objects-that-arent-worth-saving" id="toc-saving-objects-that-arent-worth-saving" class="nav-link" data-scroll-target="#saving-objects-that-arent-worth-saving">Saving Objects That Aren’t Worth Saving</a></li>
  </ul></li>
  <li><a href="#dont-forget-to-complete-your-lab-4-code-review" id="toc-dont-forget-to-complete-your-lab-4-code-review" class="nav-link" data-scroll-target="#dont-forget-to-complete-your-lab-4-code-review">Don’t forget to complete your Lab 4 code review!</a></li>
  <li><a href="#dont-forget-to-complete-your-lab-4-code-review-1" id="toc-dont-forget-to-complete-your-lab-4-code-review-1" class="nav-link" data-scroll-target="#dont-forget-to-complete-your-lab-4-code-review-1">Don’t forget to complete your Lab 4 code review!</a></li>
  <li><a href="#midterm-portfolios" id="toc-midterm-portfolios" class="nav-link" data-scroll-target="#midterm-portfolios">Midterm Portfolios</a>
  <ul class="collapse">
  <li><a href="#what-to-expect" id="toc-what-to-expect" class="nav-link" data-scroll-target="#what-to-expect">What to Expect</a></li>
  <li><a href="#getting-started" id="toc-getting-started" class="nav-link" data-scroll-target="#getting-started">Getting Started</a></li>
  </ul></li>
  <li><a href="#date-time-variables" id="toc-date-time-variables" class="nav-link" data-scroll-target="#date-time-variables">Date + Time Variables</a>
  <ul class="collapse">
  <li><a href="#why-are-dates-and-times-tricky" id="toc-why-are-dates-and-times-tricky" class="nav-link" data-scroll-target="#why-are-dates-and-times-tricky">Why are dates and times tricky?</a></li>
  <li><a href="#lubridate" id="toc-lubridate" class="nav-link" data-scroll-target="#lubridate"><code>lubridate</code></a></li>
  <li><a href="#date-time-objects" id="toc-date-time-objects" class="nav-link" data-scroll-target="#date-time-objects"><code>date-time</code> Objects</a></li>
  <li><a href="#creating-date-time-objects" id="toc-creating-date-time-objects" class="nav-link" data-scroll-target="#creating-date-time-objects">Creating <code>date-time</code> Objects</a></li>
  <li><a href="#create-a-date-time-object-from-a-string" id="toc-create-a-date-time-object-from-a-string" class="nav-link" data-scroll-target="#create-a-date-time-object-from-a-string">Create a <code>date-time</code> Object from a String</a></li>
  <li><a href="#creating-date-time-objects-1" id="toc-creating-date-time-objects-1" class="nav-link" data-scroll-target="#creating-date-time-objects-1">Creating <code>date-time</code> Objects</a></li>
  <li><a href="#common-mistake-with-dates" id="toc-common-mistake-with-dates" class="nav-link" data-scroll-target="#common-mistake-with-dates">Common Mistake with Dates</a></li>
  <li><a href="#extracting-date-time-components" id="toc-extracting-date-time-components" class="nav-link" data-scroll-target="#extracting-date-time-components">Extracting <code>date-time</code> Components</a></li>
  <li><a href="#subtraction-with-date-time-objects" id="toc-subtraction-with-date-time-objects" class="nav-link" data-scroll-target="#subtraction-with-date-time-objects">Subtraction with <code>date-time</code> Objects</a></li>
  <li><a href="#how-old-am-i" id="toc-how-old-am-i" class="nav-link" data-scroll-target="#how-old-am-i">How old am I?</a></li>
  <li><a href="#durations-and-periods" id="toc-durations-and-periods" class="nav-link" data-scroll-target="#durations-and-periods">Durations and Periods</a></li>
  <li><a href="#durations-and-periods-1" id="toc-durations-and-periods-1" class="nav-link" data-scroll-target="#durations-and-periods-1">Durations and Periods</a></li>
  <li><a href="#time-zones" id="toc-time-zones" class="nav-link" data-scroll-target="#time-zones">Time Zones…</a></li>
  <li><a href="#time-zones-1" id="toc-time-zones-1" class="nav-link" data-scroll-target="#time-zones-1">Time Zones</a></li>
  <li><a href="#common-mistake-with-dates-1" id="toc-common-mistake-with-dates-1" class="nav-link" data-scroll-target="#common-mistake-with-dates-1">Common Mistake with Dates</a></li>
  </ul></li>
  <li><a href="#pa-5.2-jewel-heist" id="toc-pa-5.2-jewel-heist" class="nav-link" data-scroll-target="#pa-5.2-jewel-heist">PA 5.2: Jewel Heist</a>
  <ul class="collapse">
  <li><a href="#this-activity-will-require-knowledge-of" id="toc-this-activity-will-require-knowledge-of" class="nav-link" data-scroll-target="#this-activity-will-require-knowledge-of">This activity will require knowledge of:</a></li>
  <li><a href="#lubridate-resources" id="toc-lubridate-resources" class="nav-link" data-scroll-target="#lubridate-resources">lubridate Resources</a></li>
  <li><a href="#task-card" id="toc-task-card" class="nav-link" data-scroll-target="#task-card">Task Card</a></li>
  <li><a href="#getting-started-1" id="toc-getting-started-1" class="nav-link" data-scroll-target="#getting-started-1">Getting Started</a></li>
  <li><a href="#submission" id="toc-submission" class="nav-link" data-scroll-target="#submission">Submission</a></li>
  </ul></li>
  <li><a href="#lab-5-murder-in-sql-city" id="toc-lab-5-murder-in-sql-city" class="nav-link" data-scroll-target="#lab-5-murder-in-sql-city">Lab 5: Murder in SQL City</a>
  <ul class="collapse">
  <li><a href="#to-do" id="toc-to-do" class="nav-link" data-scroll-target="#to-do">To do…</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/hglanz/statistical-computing-with-r/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div><div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="week-5-dates.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Using <code>lubridate</code> to Work with Dates</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="thursday-october-24" class="level2">
<h2 class="anchored" data-anchor-id="thursday-october-24">Thursday, October 24</h2>
<p>Today we will…</p>
<ul>
<li>Reminder About Lab 3 / Challenge 3 Revisions</li>
<li>Debrief Lab 4
<ul>
<li>Lab 4 Peer Code Review</li>
</ul></li>
<li>Midterm Portfolio
<ul>
<li>What to Expect</li>
<li>How to Get Started</li>
</ul></li>
<li>New Material
<ul>
<li>Working with Date &amp; Time Variables</li>
</ul></li>
<li><a href="../../group-activities/week-5/PA-5-dates.html">PA 5.2: Jewel Heist</a></li>
</ul>
</section>
<section id="lab-3-challenge-3-revisions" class="level1">
<h1>Lab 3 / Challenge 3 Revisions</h1>
</section>
<section id="lab-3-challenge-3-revisions-1" class="level1">
<h1>Lab 3 / Challenge 3 Revisions</h1>
<blockquote class="blockquote">
<p>Revisions are due by Friday</p>
</blockquote>
<p>. . .</p>
<p>Any problem receiving a “Growing” can be revised and submitted for additional feedback</p>
</section>
<section id="lab-4" class="level1">
<h1>Lab 4</h1>
<section id="common-mishaps" class="level2">
<h2 class="anchored" data-anchor-id="common-mishaps">Common Mishaps</h2>
<div class="incremental">
<div class="small">
<ul class="incremental">
<li><strong>Q1</strong>: Who collected these data? When were the data collected?</li>
<li><strong>Q4</strong>: Column titles of <code>2008</code> and <code>2018</code> are not descriptive!
<ul class="incremental">
<li>Creating column names that <strong>describe</strong> the values stored in those columns!</li>
<li>The <code>names_prefix =</code> argument to <code>pivot_wider()</code> can help you make better column names!</li>
<li>DVS-6: I can create tables which make my summaries clear to the reader</li>
</ul></li>
<li><strong>Q4</strong>: Unless you specify <code>.groups = "drop"</code> within <code>summarize()</code> your table still is grouped!
<ul class="incremental">
<li><code>group_by()</code> + <code>summarize()</code> only drops the first group.</li>
<li>If you have two variables inside <code>group_by()</code>, then the data will still be grouped by the second variable!</li>
</ul></li>
<li><strong>Q7</strong>: The data description contains important information!
<ul class="incremental">
<li><code>mc_toddler</code> – Aggregated weekly, full-time <strong>median</strong> price charged for Center-based Care for toddlers.</li>
<li><code>mhi_2018</code> – <strong>Median</strong> household income expressed in 2018 dollars.</li>
</ul></li>
</ul>
</div>
</div>
</section>
<section id="recreating-the-plot" class="level2">
<h2 class="anchored" data-anchor-id="recreating-the-plot">Recreating the Plot</h2>
<blockquote class="blockquote">
<p>DVS-2: I use plot modifications to make my visualizations clearer to the reader</p>
</blockquote>
<div class="small">
<ul>
<li>Facets ordered based on developmental stage <strong>not</strong> alphabetically</li>
<li>Ordering colors in the legend so they appear in the same order as the lines in the plot.</li>
</ul>
</div>
<p>. . .</p>
<blockquote class="blockquote">
<p>DVS-3: I show creativity in my visualizations</p>
</blockquote>
<div class="small">
<ul>
<li>Exploring different color themes
<ul>
<li>Personally, I like the <code>"Accent"</code> palette from the RColorBrewer package, but you might like others!</li>
<li>Getting 10 colors is hard! I would recommend looking into the <code>colorRampPalette()</code> function to get more colors.</li>
</ul></li>
</ul>
</div>
<p>. . .</p>
<div class="small">
<ul>
<li>Exploring different plot themes
<ul>
<li>Personally, I like <code>theme_bw()</code>, but you might like others!</li>
</ul></li>
</ul>
</div>
</section>
<section id="other-big-picture-code-feedback" class="level2">
<h2 class="anchored" data-anchor-id="other-big-picture-code-feedback">Other “Big Picture” Code Feedback</h2>
<div class="small">
<blockquote class="blockquote">
<p>I strongly recommend against nested functions, as they are difficult for people to understand what your code is doing. Having two lines is not less efficient and is more readable.</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">mutate</span>(<span class="at">age_group =</span> <span class="fu">fct_relevel</span>(<span class="fu">fct_recode</span>(age_group,</span>
<span id="cb1-2"><a href="#cb1-2"></a>                                          <span class="st">"Infant"</span> <span class="ot">=</span> <span class="st">"mc_infant"</span>,</span>
<span id="cb1-3"><a href="#cb1-3"></a>                                          <span class="st">"Toddler"</span> <span class="ot">=</span> <span class="st">"mc_toddler"</span>,</span>
<span id="cb1-4"><a href="#cb1-4"></a>                                          <span class="st">"Preschool"</span> <span class="ot">=</span> <span class="st">"mc_preschool"</span>),</span>
<span id="cb1-5"><a href="#cb1-5"></a>                                <span class="st">"Infant"</span>,</span>
<span id="cb1-6"><a href="#cb1-6"></a>                                <span class="st">"Toddler"</span>,</span>
<span id="cb1-7"><a href="#cb1-7"></a>                                <span class="st">"Preschool"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p><br></p>
<p>. . .</p>
<div class="small">
<blockquote class="blockquote">
<p>Can you do this entire process in <em>one</em> pipeline?</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>ca_counties <span class="ot">&lt;-</span> counties <span class="sc">|&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(state_name <span class="sc">==</span> <span class="st">"California"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>ca_childcare <span class="ot">&lt;-</span> childcare_costs <span class="sc">|&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(ca_counties)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="saving-objects-that-arent-worth-saving" class="level2">
<h2 class="anchored" data-anchor-id="saving-objects-that-arent-worth-saving">Saving Objects That Aren’t Worth Saving</h2>
<div class="small">
<blockquote class="blockquote">
<p>We should only save objects that we need to use later!</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>lowest_child_care_price_2018 <span class="ot">&lt;-</span> ca_childcare <span class="sc">|&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>  <span class="fu">filter</span>(study_year <span class="sc">==</span> <span class="dv">2018</span>) <span class="sc">|&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="fu">group_by</span>(region) <span class="sc">|&gt;</span>   </span>
<span id="cb3-4"><a href="#cb3-4"></a>  <span class="fu">summarise</span>(<span class="at">median_infant_price =</span> <span class="fu">median</span>(mc_infant)) <span class="sc">|&gt;</span> </span>
<span id="cb3-5"><a href="#cb3-5"></a>  <span class="fu">slice_min</span>(<span class="at">order_by =</span> median_infant_price)</span>
<span id="cb3-6"><a href="#cb3-6"></a></span>
<span id="cb3-7"><a href="#cb3-7"></a>lowest_child_care_price_2018</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
</section>
<section id="dont-forget-to-complete-your-lab-4-code-review" class="level1">
<h1>Don’t forget to complete your Lab 4 code review!</h1>
</section>
<section id="dont-forget-to-complete-your-lab-4-code-review-1" class="level1">
<h1>Don’t forget to complete your Lab 4 code review!</h1>
<p><br></p>
<blockquote class="blockquote">
<p>Make sure your feedback follows the <a href="../../code-review/code-review-guidelines.html">code review guidelines</a>.</p>
</blockquote>
<blockquote class="blockquote">
<p>Insert your review into the comment box!</p>
</blockquote>
</section>
<section id="midterm-portfolios" class="level1">
<h1>Midterm Portfolios</h1>
<section id="what-to-expect" class="level2">
<h2 class="anchored" data-anchor-id="what-to-expect">What to Expect</h2>
<p>You will create a Midterm Portfolio, with code covering the learning targets we have covered thus far in the course.</p>
<p>. . .</p>
<ul>
<li>Your code will be pulled from your Lab and Challenge assignments.</li>
</ul>
<p>. . .</p>
<ul>
<li>You will write reflections on how you’ve:
<ul>
<li>revised your thinking</li>
<li>extended your thinking</li>
<li>supported and collaborated with your peers</li>
</ul></li>
</ul>
</section>
<section id="getting-started" class="level2">
<h2 class="anchored" data-anchor-id="getting-started">Getting Started</h2>
<div class="incremental">
<ol class="incremental" type="1">
<li><p>Follow <a href="https://scribehow.com/shared/Forking_a_GitHub_Repository__TKGOvrrYQ1GMfYCafxercg">these directions</a> to fork a copy of the <a href="https://github.com/atheobold/STAT331_portfolio_template">Final Portfolio repository</a>.</p></li>
<li><p>Clone the repository into RStudio.</p></li>
<li><p>Open the <code>reflection_template.qmd</code> file and give it a read!</p></li>
<li><p>Start finding excerpts of code you wrote for the Labs or Challenges that fit each learning target.</p></li>
</ol>
</div>
</section>
</section>
<section id="date-time-variables" class="level1">
<h1>Date + Time Variables</h1>
<section id="why-are-dates-and-times-tricky" class="level2">
<h2 class="anchored" data-anchor-id="why-are-dates-and-times-tricky">Why are dates and times tricky?</h2>
<p>When parsing dates and times, we have to consider complicating factors like…</p>
<ul>
<li>Daylight Savings Time.
<ul>
<li>One day a year is 23 hours; one day a year is 25 hours.</li>
<li>Some places use it, some don’t.</li>
</ul></li>
<li>Leap years – most years have 365 days, some have 366.</li>
<li>Time zones.</li>
</ul>
</section>
<section id="lubridate" class="level2">
<h2 class="anchored" data-anchor-id="lubridate"><code>lubridate</code></h2>
<div class="columns">
<div class="column" style="width:80%;">
<ul>
<li><p>Convert a date-like variable (“May 8, 1995”) to a date or date-time object.</p></li>
<li><p>Find the weekday, month, year, etc from a date-time object.</p></li>
<li><p>Convert between time zones.</p></li>
</ul>
</div><div class="column" style="width:20%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"https://github.com/rstudio/hex-stickers/blob/main/thumbs/lubridate.png?raw=true"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://github.com/rstudio/hex-stickers/blob/main/thumbs/lubridate.png?raw=true" class="img-fluid quarto-figure quarto-figure-center figure-img" alt="The image shows the hex logo for the lubridate R package. The logo is a green hexagon with a stylized calendar in the center. The calendar has a small clock icon overlapping its bottom left corner, symbolizing time-related functions. The text 'lubridate' appears prominently below the calendar icon within the hexagon. Lubridate is commonly used in R for working with date and time data."></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The <code>lubridate</code> package <strong>installs</strong> and <strong>loads</strong> with the <code>tidyverse</code>.</p>
</div>
</div>
</section>
<section id="date-time-objects" class="level2">
<h2 class="anchored" data-anchor-id="date-time-objects"><code>date-time</code> Objects</h2>
<p>There are multiple <strong>data types</strong> for dates and times.</p>
<ul>
<li>A date:
<ul>
<li><code>date</code> or <code>Date</code></li>
</ul></li>
<li>A date and a time (identifies a unique instant in time):
<ul>
<li><code>dtm</code></li>
<li><code>POSIXlt</code> – stores date-times as the number of seconds since January 1, 1970 (“Unix Epoch”)</li>
<li><code>POSIXct</code> – stores date-times as a list with elements for second, minute, hour, day, month, year, etc.</li>
</ul></li>
</ul>
</section>
<section id="creating-date-time-objects" class="level2">
<h2 class="anchored" data-anchor-id="creating-date-time-objects">Creating <code>date-time</code> Objects</h2>
<p>Create a date from individual components:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make_date</span>(<span class="at">year =</span> <span class="dv">1995</span>, <span class="at">month =</span> <span class="dv">05</span>, <span class="at">day =</span> <span class="dv">08</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1995-05-08"</code></pre>
</div>
</div>
</section>
<section id="create-a-date-time-object-from-a-string" class="level2">
<h2 class="anchored" data-anchor-id="create-a-date-time-object-from-a-string">Create a <code>date-time</code> Object from a String</h2>
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mdy</span>(<span class="st">"August 29, 1991"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1991-08-29"</code></pre>
</div>
</div>
</div>
<p>. . .</p>
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dmy</span>(<span class="st">"29-August-1991"</span>, </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">tz =</span> <span class="st">"America/Denver"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1991-08-29 MDT"</code></pre>
</div>
</div>
</div>
<p>. . .</p>
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dmy_hms</span>(<span class="st">"29-August-1991 9:32:12"</span>, </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">tz =</span> <span class="st">"America/Denver"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1991-08-29 09:32:12 MDT"</code></pre>
</div>
</div>
</div>
<p>. . .</p>
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as_datetime</span>(<span class="st">"91-08-29"</span>, </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">format =</span> <span class="st">"%y-%m-%d"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1991-08-29 UTC"</code></pre>
</div>
</div>
</div>
<p>. . .</p>
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">parse_datetime</span>(<span class="st">"8/29/1991"</span>, </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1991-08-29 UTC"</code></pre>
</div>
</div>
</div>
</section>
<section id="creating-date-time-objects-1" class="level2">
<h2 class="anchored" data-anchor-id="creating-date-time-objects-1">Creating <code>date-time</code> Objects</h2>
<p><img src="images/date_symbols.png" class="img-fluid" style="width:80.0%" alt=""></p>
</section>
<section id="common-mistake-with-dates" class="level2">
<h2 class="anchored" data-anchor-id="common-mistake-with-dates">Common Mistake with Dates</h2>
<div class="columns">
<div class="column" style="width:48%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as_datetime</span>(<span class="dv">2023-02-6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1970-01-01 00:33:35 UTC"</code></pre>
</div>
</div>
</div><div class="column" style="width:3%;">

</div><div class="column" style="width:48%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>my_date <span class="ot">&lt;-</span> <span class="dv">2023-02-6</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>my_date</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2015</code></pre>
</div>
</div>
</div>
</div>
<p><br></p>
<div class="centered">
<p><strong><em>What’s wrong here?</em></strong></p>
</div>
<p><br></p>
<p>. . .</p>
<p>Make sure you use quotes!</p>
<ul>
<li>2,015 seconds <span class="math inline">\(\approx\)</span> 33.5 minutes</li>
</ul>
</section>
<section id="extracting-date-time-components" class="level2">
<h2 class="anchored" data-anchor-id="extracting-date-time-components">Extracting <code>date-time</code> Components</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>bday <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(<span class="st">"1989-01-14 12:03:12"</span>, </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">tz =</span> <span class="st">"America/Denver"</span>)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>bday</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1989-01-14 12:03:12 MST"</code></pre>
</div>
</div>
<p>. . .</p>
<p><br></p>
<div class="columns">
<div class="column">
<div class="small">
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">year</span>(bday)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1989</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">month</span>(bday)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">day</span>(bday)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14</code></pre>
</div>
</div>
</div>
</div><div class="column">
<div class="small">
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wday</span>(bday)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wday</span>(bday, </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">label =</span> <span class="cn">TRUE</span>, </span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">abbr =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Saturday
7 Levels: Sunday &lt; Monday &lt; Tuesday &lt; Wednesday &lt; Thursday &lt; ... &lt; Saturday</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="subtraction-with-date-time-objects" class="level2">
<h2 class="anchored" data-anchor-id="subtraction-with-date-time-objects">Subtraction with <code>date-time</code> Objects</h2>
<p>Doing subtraction gives you a <code>difftime</code> object.</p>
<p><code>difftime</code> objects do not always have the same units – it depends on the scale of the objects you are working with.</p>
</section>
<section id="how-old-am-i" class="level2">
<h2 class="anchored" data-anchor-id="how-old-am-i">How old am I?</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">today</span>() <span class="sc">-</span> <span class="fu">mdy</span>(<span class="dv">01141989</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Time difference of 13158 days</code></pre>
</div>
</div>
<p>. . .</p>
<p><br></p>
<p>How long did it take me to type this slide?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>begin <span class="ot">&lt;-</span> <span class="fu">mdy_hms</span>(<span class="st">"10/21/2024 20:40:34"</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>finish <span class="ot">&lt;-</span> <span class="fu">mdy_hms</span>(<span class="st">"10/21/2024 20:43:11"</span>)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>finish <span class="sc">-</span> begin</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Time difference of 2.616667 mins</code></pre>
</div>
</div>
</section>
<section id="durations-and-periods" class="level2">
<h2 class="anchored" data-anchor-id="durations-and-periods">Durations and Periods</h2>
<div class="columns">
<div class="column" style="width:48%;">
<p><strong>Durations</strong> will always give the time span in an <strong>exact number of seconds</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.duration</span>(</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">today</span>() <span class="sc">-</span> <span class="fu">mdy</span>(<span class="dv">01141989</span>)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>            )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1136851200s (~36.02 years)"</code></pre>
</div>
</div>
</div><div class="column" style="width:3%;">

</div><div class="column" style="width:48%;">
<div class="fragment">
<p><strong>Periods</strong> will give the time span in more approximate, but <strong>human readable times</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.period</span>(</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">today</span>() <span class="sc">-</span> <span class="fu">mdy</span>(<span class="dv">01141989</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "13158d 0H 0M 0S"</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="durations-and-periods-1" class="level2">
<h2 class="anchored" data-anchor-id="durations-and-periods-1">Durations and Periods</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>We can also <strong>add</strong> time to <code>date-time</code> objects:</p>
<ul>
<li><code>days()</code>, <code>years()</code>, etc. will add a <strong>period</strong> of time.</li>
<li><code>ddays()</code>, <code>dyears()</code>, etc. will add a <strong>duration</strong> of time.</li>
</ul>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:55%;">
<div class="fragment">
<p>Because durations use the <strong>exact</strong> number of seconds to represent days and years, you might get unexpected results.</p>
<p><br></p>
<p>When is is my 99th birthday?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mdy</span>(<span class="dv">01141989</span>) <span class="sc">+</span> <span class="fu">years</span>(<span class="dv">99</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2088-01-14"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mdy</span>(<span class="dv">01141989</span>) <span class="sc">+</span> <span class="fu">dyears</span>(<span class="dv">99</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2088-01-14 18:00:00 UTC"</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="time-zones" class="level2">
<h2 class="anchored" data-anchor-id="time-zones">Time Zones…</h2>
<p>…are complicated!</p>
<p><br></p>
<p>Specify time zones in the form:</p>
<ul>
<li>{continent}/{city} – “America/Denver”, “Africa/Nairobi”</li>
<li>{ocean}/{city} – “Pacific/Auckland”</li>
</ul>
<p>. . .</p>
<p>What time zone does R think I’m in?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Sys.timezone</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "America/Los_Angeles"</code></pre>
</div>
</div>
</section>
<section id="time-zones-1" class="level2">
<h2 class="anchored" data-anchor-id="time-zones-1">Time Zones</h2>
<p>You can change the time zone of a date in two ways:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">ymd_hms</span>(<span class="st">"2024-10-24 18:00:00"</span>, </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">tz =</span> <span class="st">"Europe/Copenhagen"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>. . .</p>
<div class="columns">
<div class="column" style="width:48%;">
<p><code>with_tz()</code></p>
<div class="small">
<p>Keeps the instant in time the same, but changes the visual representation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">|&gt;</span> </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">with_tz</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-10-24 09:00:00 PDT"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">|&gt;</span> </span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">with_tz</span>(<span class="at">tzone =</span> <span class="st">"Asia/Kolkata"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-10-24 21:30:00 IST"</code></pre>
</div>
</div>
</div>
</div><div class="column" style="width:3%;">

</div><div class="column" style="width:48%;">
<div class="fragment">
<p><code>force_tz()</code></p>
<div class="small">
<p>Changes the instant in time by forcing a time zone change.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">|&gt;</span> </span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">force_tz</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-10-24 18:00:00 PDT"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">|&gt;</span> </span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">force_tz</span>(<span class="at">tzone =</span> <span class="st">"Asia/Kolkata"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-10-24 18:00:00 IST"</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="common-mistake-with-dates-1" class="level2">
<h2 class="anchored" data-anchor-id="common-mistake-with-dates-1">Common Mistake with Dates</h2>
<p>When you read data in or create a new date-time object, the default time zone (if not specified) is UTC (Universal Time Coordinated)*.</p>
<p>. . .</p>
<p>So, make sure you specify your desired time zone!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">mdy</span>(<span class="st">"11/20/1993"</span>)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tz</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "UTC"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">mdy</span>(<span class="st">"11/20/1993"</span>, </span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>         <span class="at">tz =</span> <span class="st">"America/Los_Angeles"</span>)</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tz</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "America/Los_Angeles"</code></pre>
</div>
</div>
<div class="small">
<p>*UTC is the same as GMT (Greenwich Mean Time)</p>
</div>
</section>
</section>
<section id="pa-5.2-jewel-heist" class="level1">
<h1><a href="../../group-activities/week-5/PA-5-dates.html">PA 5.2: Jewel Heist</a></h1>
<div class="columns">
<div class="column" style="width:40%;">

</div><div class="column" style="width:5%;">

</div><div class="column" style="width:55%;">
<p><img src="images/jewels.png" class="img-fluid" alt="The image displays five colorful gemstones placed on a dark surface. Each gem has a distinct color and shape. A rectangular green gem (emerald-like) on the left. A round white gem (resembling a diamond) at the top. An oval pink gem in the center. An oval blue gem in the foreground. An oval yellow gem in the background on the right. The gems are cut and polished, reflecting light and showing their intricate facets. They appear to represent a variety of precious stones with vibrant colors."></p>
</div>
</div>
<!-- Just down the road in Montecito, CA several rare jewels went missing last fall. The jewels were stolen and replaced with fakes, but detectives have not been able to solve the case. They are now calling in a data scientist to help parse their clues. -->
<!-- Unfortunately, the date and time of the jewel heist is not known. You have been hired to crack the case. Use the clues below to discover the thief's identity. -->
<section id="this-activity-will-require-knowledge-of" class="level2">
<h2 class="anchored" data-anchor-id="this-activity-will-require-knowledge-of">This activity will require knowledge of:</h2>
<div class="small">
<ul>
<li>Converting time zones</li>
<li>Extracting components of a date</li>
<li>Filtering based on date components</li>
<li>Making intervals of time</li>
<li>Filtering values that fall into an interval</li>
<li>Finding the duration between two dates</li>
<li>Modulus division</li>
</ul>
</div>
<p><span class="midi"><strong>None of us have all these abilities. Each of us has some of these abilities.</strong></span></p>
</section>
<section id="lubridate-resources" class="level2">
<h2 class="anchored" data-anchor-id="lubridate-resources">lubridate Resources</h2>
<div class="columns">
<div class="column" style="width:60%;">
<p>Every group should have a <strong>lubridate</strong> cheatsheet!</p>
<div class="small">
<p><strong>On the Front</strong>:</p>
<ul>
<li><strong>Middle Column</strong> – functions related to “getting components” of dates</li>
<li><strong>Bottom Right</strong> – functions related to time zones</li>
</ul>
</div>
<div class="fragment">
<div class="small">
<p><strong>On the Back</strong>:</p>
<ul>
<li><strong>Left Column</strong> – functions related to adding / subtracting “periods” to / from dates</li>
<li><strong>Right Column</strong> – functions related to creating and using intervals of time</li>
</ul>
</div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:35%;">
<p><img src="images/lubridate-cheatsheet.png" class="img-fluid" alt="The image is a cheat sheet for the lubridate R package, titled 'Dates and times with lubridate::CHEATSHEET.' It is packed with key information on working with dates and times using lubridate, displayed in a visually organized format."></p>
</div>
</div>
</section>
<section id="task-card" class="level2">
<h2 class="anchored" data-anchor-id="task-card">Task Card</h2>
<p>Every group should have a <strong>task card</strong>!</p>
<p>. . .</p>
<div class="columns">
<div class="column" style="width:40%;">
<p><strong>On the Front</strong></p>
<ul>
<li>the expectations of each role</li>
<li>the norms of collaborating</li>
</ul>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:55%;">
<div class="fragment">
<p><strong>On the Back</strong></p>
<div class="small">
<ul>
<li><code>lubridate</code> functions for different tasks you may encounter</li>
</ul>
</div>
<div class="small">

</div>
</div>
</div>
</div>
</section>
<section id="getting-started-1" class="level2">
<h2 class="anchored" data-anchor-id="getting-started-1">Getting Started</h2>
<p>The partner who got the most sleep starts as the Developer (typing and listening to instructions from the Coder)!</p>
<ul>
<li>The Coder <strong>does not type</strong>.
<ul>
<li>The collaborative editing feature should allow you to track what is being typed.</li>
</ul></li>
<li>The Developer <strong>only types what they are told to type</strong>.</li>
</ul>
</section>
<section id="submission" class="level2">
<h2 class="anchored" data-anchor-id="submission">Submission</h2>
<blockquote class="blockquote">
<p>Submit the name of the thief to the Canvas Quiz.</p>
</blockquote>
<ul>
<li>Each person will input the full name of the thief into the PA 5.2 quiz.</li>
<li>The person who last occupied the role of Developer will download and submit the <code>PA-5-dates.html</code> file for the group.
<ul>
<li>Only one submission per group!</li>
</ul></li>
</ul>
</section>
</section>
<section id="lab-5-murder-in-sql-city" class="level1">
<h1><a href="../../labs/instructions/challenge-5-instructions.qmd">Lab 5: Murder in SQL City</a></h1>
<div class="columns">
<div class="column" style="width:40%;">

</div><div class="column" style="width:5%;">

</div><div class="column" style="width:55%;">
<p><img src="images/murder-in-sql-city.png" class="img-fluid" alt="The image depicts a detective scene where a person wearing a trench coat and a wide-brimmed hat is standing in front of a bulletin board. The board contains various items connected by red strings, including a map, a photograph of mountains, a newspaper article with a photo of a person, a police badge, and a sticky note with the number '1992' on it. This setup is commonly associated with solving a mystery or crime, where clues are visually linked to help unravel the case. The detective appears to be analyzing these clues."></p>
</div>
</div>
<section id="to-do" class="level2">
<h2 class="anchored" data-anchor-id="to-do">To do…</h2>
<ul>
<li><strong>Lab 5: Murder in SQL City</strong>
<ul>
<li>due Sunday, October 27 at 11:59pm</li>
</ul></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/github\.com\/hglanz\/statistical-computing-with-r");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© Copyright 2024, Hunter Glanz (original by Allison Theobold &amp; Judith Canner)</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/hglanz/statistical-computing-with-r/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>This page is built with ❤️ and <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>